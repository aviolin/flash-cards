(this["webpackJsonpflash-cards"]=this["webpackJsonpflash-cards"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),s=c(35),r=c.n(s),i=c(8),o=c(6),l=c(17),u=(c(46),c(47),c(48),{apiKey:"AIzaSyDKRmPGcGNpSGFtqcS-qmu-W4Xe1ilpMLA",authDomain:"flash-cards-b79fb.firebaseapp.com",projectId:"flash-cards-b79fb",storageBucket:"flash-cards-b79fb.appspot.com",messagingSenderId:"791668341954",appId:"1:791668341954:web:36b840ef4e97e359f84f5b"});l.a.initializeApp(u);var d=l.a.auth(),j=l.a.firestore(),b=l.a,h=c(1),O=a.a.createContext(),x=function(e){var t=Object(n.useState)(null),c=Object(o.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){var e=d.onAuthStateChanged((function(e){s(e||null)}));return function(){return e()}})),Object(h.jsx)(O.Provider,{value:{user:a},children:e.children})},f=(c(50),c(51),function(e){var t=l.a.firestore(),c=Object(n.useState)(null),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){if(e){var c=t.collection("users").doc(e.uid).onSnapshot((function(e){var t=e.data();r(t),console.log("User data updated: ",t)}));return function(){return c()}}}),[e]),Object(n.useEffect)((function(){if(e){var c=t.collection("decks").where("owner","==",e.uid).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),j(t),console.log("Deck data updated: ",t)}));return function(){return c()}}}),[e]),{userData:s,decks:d}}),m=function(e,t){var c=l.a.firestore(),a=Object(n.useState)([]),s=Object(o.a)(a,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){if(e){if(0!==t.length){var n=c.collection("cards");console.log("DECKIDS: ",t);var a=n.where("deckId","in",t).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),i(t),console.log("Cards updated: ",t)}),(function(e){console.log("Error: ",e.message)}));return function(){return a()}}i([])}}),[e,t]),{cards:r}},p=c(4),g=c(5),v=function(e){var t=e.title,c=e.children;return Object(h.jsxs)("header",{className:"card-header",children:[Object(h.jsx)("p",{children:t}),Object(h.jsx)("div",{children:c})]})},k=function(e){var t=e.type,c=e.onClick,n=e.view,a=e.classes,s=e.disabled;void 0===a?a="btn ":a+=" btn ";var r=null;switch(t){case"cancel":a+="btn-x",r=Object(h.jsx)(p.a,{icon:g.e,size:"2x"});break;case"exit":a+="btn-x",r=Object(h.jsx)(p.a,{icon:g.x,size:"2x"});break;case"edit":a+="btn-x",r=Object(h.jsx)(p.a,{icon:g.i,size:"2x"})}return Object(h.jsx)("button",{id:t,name:t,onClick:c,className:a,disabled:s||!1,children:n||r})},w=c(13),C=function(e){var t=e.labelText,c=e.icon,a=void 0===c?null:c,s=e.type,r=void 0===s?"text":s,i=e.id,l=void 0===i?"":i,u=e.name,d=void 0===u?"":u,j=e.placeholder,b=void 0===j?"":j,O=e.value,x=e.onChange,f=e.autocomplete,m=void 0===f?"on":f,v=Object(n.useState)(!0),k=Object(o.a)(v,2),w=k[0],C=k[1];return null===a&&"password"===r&&(a=Object(h.jsx)(p.a,{icon:g.n})),Object(h.jsxs)("div",{className:"input-block",children:[Object(h.jsx)("label",{htmlFor:l,children:t}),Object(h.jsxs)("div",{className:"input-row",children:[a,Object(h.jsx)("input",{type:"password"===r?w?"password":"text":r,name:d,id:l,value:O,onChange:x,placeholder:b,autoComplete:m}),"password"===r?Object(h.jsx)("button",{type:"button",className:"btn btn-icon",onClick:function(e){e.preventDefault(),C((function(e){return!e}))},children:w?Object(h.jsx)(p.a,{icon:g.k}):Object(h.jsx)(p.a,{icon:g.l})}):null]})]})},S=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],u=Object(n.useContext)(O).user,d=Object(w.f)();return Object(h.jsxs)("form",{id:"new-deck",onSubmit:function(e){e.preventDefault(),N.createDeck(u,c,i),d.push("/app")},children:[Object(h.jsx)(C,{labelText:"Title",icon:Object(h.jsx)(p.a,{icon:g.m}),id:"title",name:"title",value:c,onChange:function(e){return a(e.target.value)},placeholder:"New Deck",autocomplete:"off"}),Object(h.jsx)("input",{id:"public",name:"public",type:"checkbox",checked:!!i,onChange:function(e){return l(!i)}}),Object(h.jsxs)("label",{htmlFor:"public",children:[Object(h.jsx)("span",{}),"Is this deck public and shareable?"]}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Create!"})]})},N={createDeck:function(e,t,c){if(e){var n=j.collection("decks").doc(),a={id:n.id,numCards:0,title:t,owner:e.uid,private:!c};n.set(a).then(console.log("Created new deck.")).catch((function(e){console.error("Error creating deck: ",e.message)}))}else console.log("No user selected.")},deleteDeck:function(e,t){e?j.collection("decks").doc(t).delete().then(console.log("Deck successfully deleted.")).catch((function(e){console.error("Error deleting deck: ",e.message)})):console.log("No user selected.")},updateDeck:function(e,t,c,n){if(e){var a={title:c,private:n};j.collection("decks").doc(t).update(a).then(console.log("Updated deck with id: ",t)).catch((function(e){console.error("Error updating document: ",e.message)}))}else console.log("No user selected.")},createCard:function(e,t,c,n){if(e){var a=j.collection("cards").doc(),s={id:a.id,deckId:t,owner:e.uid,front:c,back:n};a.set(s).then((function(e){console.log("New card created."),j.collection("decks").doc(t).update({numCards:l.a.firestore.FieldValue.increment(1)}).catch((function(e){console.error("Error increasing card count.")}))})).catch((function(e){console.error("Error creating card: ",e.message)}))}else console.log("No user selected.")},updateCard:function(e,t,c,n){if(e){var a={front:c,back:n};console.log("CardId: ",t),j.collection("cards").doc(t).update(a).then((function(e){console.log("Updated card with id: ",t)})).catch((function(e){console.error("Error updating card: ",e.message)}))}else console.log("No user selected.")},deleteCard:function(e,t,c){e?j.collection("cards").doc(c).delete().then((function(e){console.log("Card successfully deleted."),j.collection("decks").doc(t).update({numCards:l.a.firestore.FieldValue.increment(-1)}).catch((function(e){console.error("Error decreasing card count.")}))})).catch((function(e){console.error("Error deleting card: ",e.message)})):console.log("No user selected.")}},y=function(e){var t=e.frontText,c=e.backText,a=e.cardId,s=e.deckId,r=e.isAddingCard,i=e.isBack,l=e.onClick,u=Object(n.useContext)(O).user,d=Object(n.useState)(""),j=Object(o.a)(d,2),b=j[0],x=j[1],f=Object(n.useState)(""),m=Object(o.a)(f,2),v=m[0],k=m[1];Object(n.useEffect)((function(){r||(x(t),k(c))}),[t,c,r]);var w=function(e){"front"===e.target.name?x(e.target.value):"back"===e.target.name&&k(e.target.value)};return Object(h.jsxs)("form",{children:[i?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("textarea",{name:"back",value:v,onChange:w})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("textarea",{name:"front",value:b,onChange:w})}),Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsxs)("button",{className:"btn-secondary",name:"update-card",onClick:function(e){e.preventDefault(),r?(console.log("Creating new card."),console.log(s),N.createCard(u,s,b,v)):(console.log("Card to update: ",a),N.updateCard(u,a,b,v)),l(e)},children:[Object(h.jsx)(p.a,{icon:g.g,size:"1x",className:"icon"})," Save"]}),r?null:Object(h.jsxs)("button",{className:"btn-warning",name:"delete-card",onClick:function(e){e.preventDefault(),N.deleteCard(u,s,a),l(e)},children:[Object(h.jsx)(p.a,{icon:g.y})," Delete Card"]})]})]})},E=function(e){var t=e.text;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("p",{className:"content",children:t})})},D=function(e){var t=e.onClick,c=e.frontTitle,n=e.backTitle,s=e.frontText,r=e.backText,i=e.isEditing,o=e.isFlipped,l=e.setIsFlipped,u=e.deckId,d=e.cardId,j=e.isAddingCard,b=e.update,O=e.updateShuffled,x=i?Object(h.jsx)(v,{title:c,children:Object(h.jsx)(k,{type:"cancel",onClick:t})}):Object(h.jsx)(v,{title:c,children:Object(h.jsxs)("button",{className:"btn btn-icon-small",name:"exit",onClick:t,children:[Object(h.jsx)(p.a,{icon:g.x}),"\xa0Close"]})}),f=a.a.cloneElement(x,{title:n}),m=Object(h.jsx)(y,{frontText:s,backText:r,deckId:u,cardId:d,isAddingCard:j,update:b,updateShuffled:O,isShowingBack:o,onClick:t}),w=a.a.cloneElement(m,{isBack:!0}),C=Object(h.jsx)(h.Fragment,{children:i||j?null:Object(h.jsx)("footer",{children:Object(h.jsx)("button",{className:"curl",name:"toggle",onClick:function(){return l((function(e){return!e}))},children:Object(h.jsx)(p.a,{icon:g.r,size:"2x",className:"icon"})})})});return Object(h.jsx)("div",{className:o?"flippable flipped":"flippable",children:Object(h.jsxs)("div",{className:"flippable__inner",children:[Object(h.jsxs)("div",{className:"flippable__content front",children:[x,i||j?m:Object(h.jsx)(E,{text:s}),C]}),Object(h.jsxs)("div",{className:"flippable__content back",children:[f,i||j?w:Object(h.jsx)(E,{text:r}),C]})]})})},T=function(e){var t=e.leftButtonText,c=void 0===t?"<":t,s=e.rightButtonText,r=void 0===s?">":s,i=e.animTime,l=void 0===i?.5:i,u=e.items,d=e.previousCallback,j=e.nextCallback,b=e.showButtons,O=void 0===b||b,x=Object(n.useState)(0),f=Object(o.a)(x,2),m=f[0],p=f[1],g=Object(n.useState)([]),v=Object(o.a)(g,2),k=v[0],w=v[1],C=Object(n.useState)(!0),S=Object(o.a)(C,2),N=S[0],y=S[1],E=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=u.map((function(e){return Object(h.jsx)("div",{className:"carousel__item",children:e},e.key)}));if(u.length>0){var t=a.a.cloneElement(e[0],{key:"first"}),c=a.a.cloneElement(e[e.length-1],{key:"last"});e.unshift(c),e.push(t)}w(e)}),[u]),Object(n.useEffect)((function(){k.length<3||(0!==m&&m!==k.length-1||setTimeout((function(){E.current.style.transition="margin 0s",0===m?p(k.length-2):m===k.length-1&&p(1)}),1e3*l),1!==m&&m!==k.length-2||setTimeout((function(){E.current.style.transition="margin "+l+"s"}),50))}),[m,k,l]);var D=function(e){N&&("right"===e.target.name?(p((function(e){return e+1})),void 0!=j&&j(m-1)):"left"===e.target.name&&(p((function(e){return e-1})),void 0!=d&&d(m-1)),y(!1),setTimeout((function(){return y(!0)}),1e3*l+50))};return Object(h.jsxs)("div",{className:"carousel",children:[Object(h.jsx)("div",{ref:E,className:"carousel__inner",style:{marginLeft:"calc(-100% * "+m+")",width:100*k.length+"%",transition:"margin "+l+"s"},children:k}),Object(h.jsx)("div",{className:"spacer"}),O?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"btn-carousel left",onClick:function(e){return D(e)},name:"left",disabled:!N,children:c}),Object(h.jsx)("button",{className:"btn-carousel right",onClick:function(e){return D(e)},name:"right",disabled:!N,children:r})]}):null]})},P=function(e){var t=e.shuffledCards,c=e.onClick,a=e.isEditingCard,s=e.curSelectedDeck,r=Object(n.useState)([]),i=Object(o.a)(r,2),u=i[0],d=i[1],j=Object(n.useState)(null),b=Object(o.a)(j,2),O=b[0],x=b[1],f=Object(n.useState)(!1),m=Object(o.a)(f,2),v=m[0],k=m[1],C=Object(n.useState)(!0),S=Object(o.a)(C,2),N=S[0],y=S[1],E=Object(w.g)().hash;if(Object(n.useEffect)((function(){if(void 0!==E&&!(t.length>0)){var e=l.a.firestore();e.collection("decks").doc(E).get().then((function(e){e.data().private&&y(!1)})).catch((function(e){return console.log("ERRORHERE: ",e.message)})),e.collection("cards").where("deckId","==",E).get().then((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),x(t)})).catch((function(e){return console.log("???",e.message)}))}}),[E]),Object(n.useEffect)((function(){console.log("Changed")}),[E]),Object(n.useEffect)((function(){var e=[];(e=null!=O?O:t).length>0&&d(e.map((function(e){return Object(h.jsx)(D,{frontTitle:"Front",backTitle:"Back",frontText:e.front,backText:e.back,onClick:c,isFlipped:v,setIsFlipped:k,isEditing:a,cardId:e.id,deckId:e.deckId},e.id)})))}),[t,v,c,a,s,O]),!N||0===u.length)return Object(h.jsx)("main",{children:Object(h.jsx)("div",{className:"container center",children:Object(h.jsx)("p",{children:"This deck is either private or has no cards."})})});var P=function(e){k(!1)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(T,{items:u,leftButtonText:Object(h.jsx)(p.a,{icon:g.b}),rightButtonText:Object(h.jsx)(p.a,{icon:g.c}),animTime:.3,previousCallback:P,nextCallback:P,showButtons:!a})})},F=c(16),I=function(e){var t=e.title,c=e.subtitle,n=e.heading,a=null;return a="h1"===(void 0===n?"h1":n)?Object(h.jsx)("h1",{children:t}):Object(h.jsx)("h2",{children:t}),Object(h.jsxs)("header",{className:"page-heading",children:[a,Object(h.jsx)("p",{className:"subtitle",children:c})]})},A=function(e){var t=e.to,c=e.name;return Object(h.jsxs)(i.b,{className:"breadcrumb",to:t,children:[Object(h.jsx)(p.a,{icon:g.b}),"\xa0\xa0\xa0",c]})},U=function(e){var t=e.card,c=e.onSubmit,a=Object(n.useContext)(O).user,s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),j=d[0],b=d[1];Object(n.useEffect)((function(){l(t.front),b(t.back)}),[t]);var x=function(e){"front"===e.target.name?l(e.target.value):"back"===e.target.name&&b(e.target.value)};return Object(h.jsxs)("form",{className:"card-editor",onSubmit:function(e){e.preventDefault(),console.log("Card to update: ",t.id),N.updateCard(a,t.id,i,j),c()},children:[Object(h.jsx)("label",{children:"Front"}),Object(h.jsx)("textarea",{name:"front",value:i,onChange:x}),Object(h.jsx)("label",{children:"Back"}),Object(h.jsx)("textarea",{name:"back",value:j,onChange:x}),Object(h.jsx)("button",{className:"btn",children:"Update"}),Object(h.jsxs)("button",{className:"btn btn-warning-small",onClick:function(e){e.preventDefault(),N.deleteCard(a,t.deckId,t.id)},children:[Object(h.jsx)(p.a,{icon:g.y})," Delete card"]})]})},L=function(e){e.deckId;var t=e.cards,c=Object(n.useState)(""),s=Object(o.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),d=u[0],j=u[1],b=function(e){i((function(t){return t===e.target.value?"":e.target.value}))};return Object(n.useEffect)((function(){var e=t.map((function(e){var t=e.id===r?"btn btn-tertiary highlighted":"btn btn-tertiary";return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsxs)("button",{className:t,value:e.id,onClick:b,children:[Object(h.jsxs)("span",{className:"truncate",children:['"',e.front,'"']}),r===e.id?Object(h.jsx)(p.a,{icon:g.d}):Object(h.jsx)(p.a,{icon:g.a})]}),r===e.id?Object(h.jsx)(U,{card:e,onSubmit:function(){return i("")}}):null]},e.id)}));j(e)}),[r,t]),Object(h.jsx)(h.Fragment,{children:d})},B=function(e){var t=e.deckId,c=Object(n.useContext)(O).user,a=Object(n.useState)(!1),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(""),x=Object(o.a)(b,2),f=x[0],m=x[1],v=function(e){"front"===e.target.name?j(e.target.value):"back"===e.target.name&&m(e.target.value)};return r?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("button",{id:"add",className:"btn btn-tertiary highlighted",onClick:function(){return i(!1)},children:["Add card ",Object(h.jsx)(p.a,{icon:g.o})]}),Object(h.jsxs)("form",{className:"card-editor",onSubmit:function(e){e.preventDefault(),console.log("Creating new card."),N.createCard(c,t,d,f),j(""),m(""),i(!1)},children:[Object(h.jsx)("label",{children:"Front"}),Object(h.jsx)("textarea",{name:"front",value:d,onChange:v}),Object(h.jsx)("label",{children:"Back"}),Object(h.jsx)("textarea",{name:"back",value:f,onChange:v}),Object(h.jsx)("button",{className:"btn",children:"Create"})]})]}):Object(h.jsxs)("button",{className:"btn btn-tertiary highlighted",onClick:function(){return i(!0)},children:["Add card ",Object(h.jsx)(p.a,{icon:g.p})]})},M=function(e){var t=e.selectedDecks,c=e.deckToEdit,a=e.setDeckToEdit,s=e.cards,r=Object(n.useContext)(O).user,i=Object(w.f)(),l=Object(n.useState)(c.title),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(!c.private),x=Object(o.a)(b,2),f=x[0],m=x[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{to:"/app",name:"Dashboard"}),Object(h.jsx)(I,{title:"Edit deck.",subtitle:"Update the title and privacy status of your deck."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N.updateDeck(r,c.id,d,!f),a(Object(F.a)(Object(F.a)({},c),{},{title:d,private:!f}))},children:[Object(h.jsx)(C,{labelText:"Title",icon:Object(h.jsx)(p.a,{icon:g.m}),id:"title",name:"title",value:d,onChange:function(e){return j(e.target.value)},placeholder:"New Deck",autocomplete:"off"}),Object(h.jsx)("input",{id:"public",name:"public",type:"checkbox",checked:!!f,onChange:function(e){return m(!f)}}),Object(h.jsxs)("label",{htmlFor:"public",children:[Object(h.jsx)("span",{}),"Is this deck public and shareable?"]}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Update"})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)(I,{title:"Cards.",subtitle:"Add, edit, and remove cards from this deck.",heading:"h2"}),Object(h.jsx)(L,{deckId:t[0],cards:s}),Object(h.jsx)(B,{deckId:t[0]})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)(I,{title:"Delete deck.",subtitle:"Permanently delete this deck and all its cards.",heading:"h2"}),Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),N.deleteDeck(r,c.id),i.push("/app"),a(null)},children:Object(h.jsx)("button",{className:"btn btn-warning",children:"Delete"})})]})]})},z=c(38),H=function(e){var t=e.onClose,c=e.title,n=e.isOpen,a=e.children;return n?Object(h.jsx)("div",{className:"lightbox",children:Object(h.jsxs)("div",{className:"lightbox-inner",children:[Object(h.jsx)(v,{title:c,children:Object(h.jsxs)("button",{className:"btn btn-icon-small",name:"exit",onClick:t,children:[Object(h.jsx)(p.a,{icon:g.x}),"\xa0Close"]})}),Object(h.jsx)("div",{className:"content",children:a})]})}):null},R=function(e){var t=e.title,c=e.toggleDeck,a=e.id,s=e.isPrivate,r=e.selectedDecks,i=e.setSelectedDecks,l=e.length,u=e.setDeckToEdit,d=Object(w.f)(),j=Object(n.useState)(!1),b=Object(o.a)(j,2),O=b[0],x=b[1];return Object(h.jsxs)("li",{className:r.includes(a)?"selected":"",onClick:function(e){return c(e,a)},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{name:a,type:"checkbox",checked:r.includes(a),onChange:function(e){console.log(e.target),c(e,a)}}),Object(h.jsxs)("label",{htmlFor:"checkbox",className:"truncate",children:[Object(h.jsx)("span",{}),Object(h.jsx)("strong",{children:t})," (",l," ",1===l?"card":"cards",")"]})]}),Object(h.jsxs)("div",{className:"button-row",children:[Object(h.jsxs)("button",{className:"btn btn-icon",onClick:function(e){e.stopPropagation(),u(),i([a]),d.push("/app/edit")},children:[Object(h.jsx)(p.a,{icon:g.i})," Edit & add cards"]}),Object(h.jsxs)("button",{className:"btn btn-icon",name:"share-deck",value:a,onClick:function(e){e.stopPropagation(),x((function(e){return!e}))},children:[Object(h.jsx)(p.a,{icon:g.s})," Share"]})]}),Object(h.jsx)(H,{title:"Share deck",isOpen:O,onClose:function(){return x(!1)},children:s?Object(h.jsxs)("p",{className:"warning",children:["This deck is ",Object(h.jsx)("b",{children:"private"}),". Update the deck to be ",Object(h.jsx)("b",{children:"public"})," in order to share it with others."]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:["Public link: ",Object(h.jsx)("b",{children:Object(h.jsxs)("span",{className:"wrap",children:["https://aviolin.github.io/flash-cards/#/app/d/",a]})})]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{className:"btn btn-share",onClick:function(){var e="https://aviolin.github.io/flash-cards/#/app/d/"+a;navigator.clipboard.writeText(e)},children:Object(h.jsxs)("div",{children:[Object(h.jsx)(p.a,{icon:g.h})," Copy to clipboard"]})})]})})]})},_=function(e){var t=e.decks,c=e.selectedDecks,a=e.setSelectedDecks,s=e.handleButtons,r=e.setDeckToEdit,i=Object(n.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1],j=function(e,t){a((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(z.a)(e),[t])}))};return Object(n.useEffect)((function(){d(t.map((function(e){return Object(h.jsx)(R,{title:e.title,toggleDeck:j,id:e.id,isPrivate:e.private,selectedDecks:c,handleButtons:s,length:e.numCards,setSelectedDecks:a,setDeckToEdit:function(){r({id:e.id,title:e.title,private:e.private})}},e.id)})))}),[t,c,s]),Object(h.jsxs)("section",{className:"deck-list",children:[Object(h.jsx)("p",{children:"Your decks:"}),Object(h.jsx)("ul",{children:u.length>0?u:Object(h.jsx)("p",{children:"You have no decks. Create one to start!"})})]})},W=function(e){var t=e.onClick,c=e.decks,a=e.cards,s=e.selectedDecks,r=e.setSelectedDecks,l=e.handleButtons,u=Object(n.useState)(null),d=Object(o.a)(u,2),j=d[0],b=d[1];return Object(n.useContext)(O).user?Object(h.jsx)("div",{className:"dashboard",children:Object(h.jsxs)(w.c,{children:[Object(h.jsx)(w.a,{path:"/app/edit",children:Object(h.jsx)(M,{selectedDecks:s,setSelectedDecks:r,deckToEdit:j,setDeckToEdit:b,cards:a})}),Object(h.jsxs)(w.a,{path:"/app/create",children:[Object(h.jsx)(A,{to:"/app",name:"Dashboard"}),Object(h.jsx)(I,{title:"New Deck!",subtitle:"Create a new deck of flash cards. You can always come back and edit it at any time!"}),Object(h.jsx)(S,{})]}),Object(h.jsxs)(w.a,{path:"/app",children:[Object(h.jsx)(A,{to:"/",name:"Home"}),Object(h.jsx)(I,{title:"Dashboard.",subtitle:"Create and edit all your personal decks here."}),Object(h.jsxs)("div",{children:[Object(h.jsxs)(i.b,{to:"/app/create",className:"btn btn-tertiary highlighted",children:["Create a new deck",Object(h.jsx)(p.a,{icon:g.p})]}),Object(h.jsx)(_,{decks:c,selectedDecks:s,setSelectedDecks:r,handleButtons:l,setDeckToEdit:b})]}),Object(h.jsx)(k,{type:"shuffle",classes:"btn-primary",onClick:t,disabled:0===a.length,view:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a,{icon:g.q})," Shuffle!"]})})]})]})}):Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)("p",{children:"You are not logged in. To view your dashboard, log in or sign up here:"}),Object(h.jsx)(i.b,{to:"/",children:"Home"})]})},Y=c.p+"static/media/hero.34e6cd07.jpg",q=function(){var e=Object(n.useContext)(O).user;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{className:"hero",children:[Object(h.jsx)("img",{src:Y}),Object(h.jsx)("h1",{children:"Easily create, study and share flashcards."})]}),Object(h.jsx)("div",{className:"buttons",children:e?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.b,{className:"btn",to:"/app",children:"Dashboard"}),Object(h.jsx)(i.b,{className:"btn btn-secondary",to:"/my-account",children:"My Account"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.b,{className:"btn",to:"/sign-up",children:"Sign up"}),Object(h.jsx)(i.b,{className:"btn btn-secondary",to:"/log-in",children:"Log In"})]})}),Object(h.jsxs)("section",{className:"public-decks",children:[Object(h.jsx)("h2",{children:"No account? No problem!"}),Object(h.jsx)("p",{children:"Check out some of our public flash cards:"}),Object(h.jsxs)(i.b,{to:"/app/d/WOJrC5Mp87qzKcka2haX",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"Classical Music Composers"})," ",Object(h.jsx)(p.a,{icon:g.c})]}),Object(h.jsxs)(i.b,{to:"/app/d/cYddMteaU6ZSYhyq5AHg",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"Star Trek Facts & Trivia"})," ",Object(h.jsx)(p.a,{icon:g.c})]}),Object(h.jsxs)(i.b,{to:"/app/d/Fd73VQwvnOoNHFrqQHW2",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"Miscellaneous Trivia"})," ",Object(h.jsx)(p.a,{icon:g.c})]})]})]})},G=c(21),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=Object(n.useContext)(O),s=a.user,r=Object(n.useState)(null),i=Object(o.a)(r,2),l=i[0],u=i[1],h=Object(n.useState)(null),x=Object(o.a)(h,2),f=x[0],m=x[1],p=Object(n.useState)("pending"),g=Object(o.a)(p,2),v=g[0],k=g[1],w=Object(n.useState)(0),C=Object(o.a)(w,2),S=C[0],N=C[1],y=Object(n.useState)(0),E=Object(o.a)(y,2),D=E[0],T=E[1],P=Object(n.useState)(0),F=Object(o.a)(P,2),I=F[0],A=F[1],U=Object(n.useState)(0),L=Object(o.a)(U,2),B=L[0],M=L[1],z=Object(n.useState)(0),H=Object(o.a)(z,2),R=H[0],_=H[1],W=Object(n.useState)(0),Y=Object(o.a)(W,2),q=Y[0],G=Y[1];Object(n.useEffect)((function(){0!==S&&null==s&&(m(null),k("loading"),d.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;console.log("Logged in: ",t),u(t),k("success")})).catch((function(e){console.error("Error logging user in: ",e.message),m(e),k("error")})))}),[S]),Object(n.useEffect)((function(){0!==D&&null==s&&(m(null),k("loading"),d.createUserWithEmailAndPassword(e,t).then((function(e){var t=e.user;j.collection("users").doc(t.uid).set({decks:[]}),u(t),k("success")})).catch((function(e){console.error("Error signing user in: ",e.message),m(e),k("error")})))}),[D]),Object(n.useEffect)((function(){0!==I&&null!==s&&(m(null),k("loading"),d.signOut().then((function(){console.log("Logged out"),u(null),k("success")})).catch((function(e){console.error("Error logging user out: ",e.message),m(e.code),k("error")})))}),[I]),Object(n.useEffect)((function(){if(0!==B&&null!==s){m(null),k("loading");var c=b.auth.EmailAuthProvider.credential(d.currentUser.email,t);d.currentUser.reauthenticateWithCredential(c).then((function(){console.log("User successfully reauthenticated."),d.currentUser.updateEmail(e).then((function(){console.log("Successfully updated email."),k("success")})).catch((function(e){console.log("An error occurred updating the email: ",e.message),m(e.code),k("error")}))})).catch((function(e){console.log("An error occurred reauthenticating the user: ",e.message),m(e.code),k("error")}))}}),[B]),Object(n.useEffect)((function(){if(0!==R&&null!==s){m(null),k("loading");var e=b.auth.EmailAuthProvider.credential(d.currentUser.email,t);d.currentUser.reauthenticateWithCredential(e).then((function(){console.log("User successfully reauthenticated."),d.currentUser.updatePassword(c).then((function(){console.log("Successfully updated password."),k("success")})).catch((function(e){console.log("An error occurred updating the password: ",e.message),m(e.code),k("error")}))})).catch((function(e){console.log("An error occurred reauthenticating the user: ",e.message),m(e.code),k("error")}))}}),[R]),Object(n.useEffect)((function(){if(0!==q&&null!==s){m(null),k("loading");var e=b.auth.EmailAuthProvider.credential(d.currentUser.email,t);d.currentUser.reauthenticateWithCredential(e).then((function(){console.log("User successfully reauthenticated."),d.currentUser.delete().then((function(){console.log("User successfully deleted."),k("success")})).catch((function(e){console.log("An error occurred deleting the user: ",e.message),m(e.code),k("error")}))})).catch((function(e){console.log("An error occurred reauthenticating the user: ",e.message),m(e.code),k("error")}))}}),[q]);var K=function(){return N((function(e){return e+1}))},V=function(){return T((function(e){return e+1}))},J=function(){return A((function(e){return e+1}))},Q=function(){return M((function(e){return e+1}))},X=function(){return _((function(e){return e+1}))},Z=function(){return G((function(e){return e+1}))};return{userData:l,error:f,status:v,handleLogin:K,handleSignup:V,handleLogout:J,handleChangeEmail:Q,handleChangePassword:X,handleDeleteAccount:Z}},V=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(w.f)(),r=Object(n.useState)({email:"",password:""}),l=Object(o.a)(r,2),u=l[0],d=l[1],j=K(u.email,u.password),b=(j.userData,j.status),x=j.error,f=j.handleLogin,m=Object(n.useContext)(O).user,v=function(e){var t=e.target,c=t.name,n=t.value;d((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(G.a)({},c,n))}))};return Object(n.useEffect)((function(){m&&s.push("/app")}),[m]),Object(n.useEffect)((function(){if(null!==x)switch(x.code){case null:return;case"auth/user-not-found":case"auth/wrong-password":return void a("The email and password do not match.");case"auth/invalid-email":return void a("Please enter a valid email address.");default:return void a("Something went wrong. Please try again.")}else a("")}),[x]),Object(h.jsxs)("div",{className:"login",children:[Object(h.jsx)(I,{title:"Hey there!",subtitle:"Log in with your credentials."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f()},children:[Object(h.jsx)(C,{labelText:"Email",icon:Object(h.jsx)(p.a,{icon:g.j}),id:"email",name:"email",value:u.email,onChange:v,placeholder:"youremail@example.com"}),Object(h.jsx)(C,{labelText:"Password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"password",name:"password",value:u.password,onChange:v}),""===c?null:Object(h.jsx)("p",{className:"error",children:c}),Object(h.jsx)("button",{className:"btn btn-primary",disabled:""===u.password||""===u.email,children:"loading"===b?"Loading . . . ":"success"===b?"Success!":"Go!"})]}),Object(h.jsxs)("p",{children:["Forgot your credentials? ",Object(h.jsx)(i.b,{to:"/reset-password",children:"Reset your password"}),"."]}),Object(h.jsxs)("p",{children:["No account? ",Object(h.jsx)(i.b,{to:"/sign-up",children:"Sign up"}),"."]})]})},J=function(e){var t=e.size,c=void 0===t?"1x":t;return Object(h.jsx)(p.a,{icon:g.v,size:c,className:"spinner"})},Q=function(){var e=Object(n.useContext)(O).user,t=K().handleLogout,c=Object(w.f)();return Object(n.useEffect)((function(){e&&(t(),setTimeout((function(){return c.push("/")}),1e3))}),[e]),Object(h.jsx)("div",{className:"container center",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(J,{})," Logging out . . ."]})})},X=function(e){var t=e.handleChange,c=e.inputs,a=e.onSubmit,s=e.error,r=(e.loading,e.success,e.status),i=Object(n.useState)(""),l=Object(o.a)(i,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){if(null!==s)switch(s.code){case null:return;case"auth/wrong-password":return void d("Incorrect password.");default:return void d("Something went wrong. Please try again.")}else d("")}),[s]),Object(n.useEffect)((function(){console.log("Stauts: ",r)}),[r]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{to:"/my-account",name:"My account"}),Object(h.jsx)(I,{title:"Update email.",subtitle:"Please enter your current password, and then an updated email address."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a()},children:[Object(h.jsx)(C,{labelText:"Current password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"password",name:"password",value:c.password,onChange:t}),Object(h.jsx)(C,{labelText:"Email",icon:Object(h.jsx)(p.a,{icon:g.j}),id:"email",name:"email",value:c.email,onChange:t,placeholder:"newemail@example.com"}),""===u?null:Object(h.jsx)("p",{className:"error",children:u}),Object(h.jsx)("button",{className:"btn btn-primary",children:"loading"===r?"Loading . . . ":"success"===r?"Success!":"Update Email"})]})]})},Z=function(e){var t=e.handleChange,c=e.inputs,a=e.error,s=e.onSubmit,r=e.status,i=Object(n.useState)(""),l=Object(o.a)(i,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){if(null!==a)switch(a){case null:return;case"auth/wrong-password":return void d("Incorrect password.");default:return void d("Something went wrong. Please try again.")}else d("")}),[a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{to:"/my-account",name:"My account"}),Object(h.jsx)(I,{title:"Change password.",subtitle:"Please enter your current password, and then a new password."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s()},children:[Object(h.jsx)(C,{labelText:"Current password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"password",name:"password",value:c.password,onChange:t}),Object(h.jsx)(C,{labelText:"New password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"new-password",name:"newPassword",value:c.newPassword,onChange:t}),""===u?null:Object(h.jsx)("p",{className:"error",children:u}),Object(h.jsx)("button",{className:"btn btn-primary",children:"loading"===r?"Loading . . . ":"success"===r?"Success!":"Change Password"})]})]})},$=function(e){var t=e.handleChange,c=e.inputs,a=e.error,s=e.onSubmit,r=Object(n.useState)(""),i=Object(o.a)(r,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){switch(a){case null:return;case"auth/wrong-password":return void u("Incorrect password.");default:return void u("Something went wrong. Please try again.")}}),[a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{to:"/my-account",name:"My account"}),Object(h.jsx)(I,{title:"Delete account.",subtitle:"Please confirm your current password."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s()},children:[Object(h.jsx)(C,{labelText:"Current password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"password",name:"password",value:c.password,onChange:t}),""===l?null:Object(h.jsx)("p",{className:"error",children:l}),Object(h.jsx)("button",{className:"btn btn-warning",children:"Permanently Delete Account"})]})]})},ee=function(){var e=Object(n.useState)({email:"",password:"",newPassword:""}),t=Object(o.a)(e,2),c=t[0],a=t[1],s=K(c.email,c.password,c.newPassword),r=s.loading,l=s.error,u=s.status,d=s.handleChangeEmail,j=s.handleChangePassword,b=s.handleDeleteAccount,x=Object(n.useContext)(O).user,f=function(e){var t=e.target,c=t.name,n=t.value;a((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(G.a)({},c,n))}))};return x?Object(h.jsx)("div",{className:"landing",children:Object(h.jsxs)(w.c,{children:[Object(h.jsxs)(w.a,{exact:!0,path:"/my-account",children:[Object(h.jsx)(A,{to:"/",name:"Home"}),Object(h.jsx)(I,{title:"Your account.",subtitle:"Update your email and password or delete your account."}),Object(h.jsxs)("div",{className:"account-data",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)(p.a,{icon:g.j}),"\xa0\xa0\xa0",x.email," "]}),Object(h.jsxs)(i.b,{to:"/my-account/change-email",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"Update your email"}),Object(h.jsx)(p.a,{icon:g.c})]})]}),Object(h.jsxs)("div",{className:"account-data",children:[Object(h.jsxs)("p",{children:[Object(h.jsx)(p.a,{icon:g.n}),"\xa0\xa0\xa0******************** "]}),Object(h.jsxs)(i.b,{to:"/my-account/change-password",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"Change your password"}),Object(h.jsx)(p.a,{icon:g.c})]})]}),Object(h.jsx)("div",{className:"account-data",children:Object(h.jsxs)(i.b,{to:"/log-out",className:"btn btn-tertiary",children:[Object(h.jsx)("span",{children:"Log out"}),Object(h.jsx)(p.a,{icon:g.u})]})}),Object(h.jsx)("div",{className:"account-data",children:Object(h.jsxs)(i.b,{to:"/my-account/delete-account",className:"btn btn-warning-small",children:[Object(h.jsx)(p.a,{icon:g.y}),"\xa0\xa0\xa0Delete Account"]})})]}),Object(h.jsx)(w.a,{exact:!0,path:"/my-account/change-email",children:Object(h.jsx)(X,{handleChange:f,inputs:c,loading:r,onSubmit:d,error:l,status:u})}),Object(h.jsx)(w.a,{exact:!0,path:"/my-account/change-password",children:Object(h.jsx)(Z,{handleChange:f,loading:r,inputs:c,onSubmit:j,error:l,status:u})}),Object(h.jsx)(w.a,{exact:!0,path:"/my-account/delete-account",children:Object(h.jsx)($,{handleChange:f,inputs:c,onSubmit:b,error:l})})]})}):Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)("p",{children:"You are not logged in. To view your dashboard, log in or sign up here:"}),Object(h.jsx)(i.b,{to:"/",children:"Home"})]})},te=function(e){var t=e.closeMenu,c=Object(n.useContext)(O).user;return Object(h.jsx)("ul",{children:c?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsxs)(i.b,{to:"/app",className:"link",onClick:function(){return t()},children:[Object(h.jsx)(p.a,{icon:g.w}),"\xa0\xa0\xa0Dashboard"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(i.b,{to:"/my-account",className:"link",onClick:function(){return t()},children:[Object(h.jsx)(p.a,{icon:g.z}),"\xa0\xa0\xa0My account"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(i.b,{to:"/log-out",className:"link",onClick:function(){return t()},children:[Object(h.jsx)(p.a,{icon:g.u}),"\xa0\xa0\xa0Log out"]})})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsxs)(i.b,{to:"/sign-up",className:"link",onClick:function(){return t()},children:[Object(h.jsx)(p.a,{icon:g.A}),"\xa0\xa0\xa0Sign up"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(i.b,{to:"/log-in",className:"link",onClick:function(){return t()},children:[Object(h.jsx)(p.a,{icon:g.t}),"\xa0\xa0\xa0Log in"]})})]})})},ce=function(e){return Object(h.jsx)("header",{className:"navbar",children:Object(h.jsxs)("div",{className:"navbar-inner",children:[Object(h.jsx)(i.b,{to:"/",className:"logo",children:"Flash Cards"}),Object(h.jsx)("button",{className:"btn btn-icon small-screen-only",name:"toggle-menu",onClick:e.onClick,children:Object(h.jsx)(p.a,{icon:g.f,size:"2x"})}),Object(h.jsx)("nav",{className:"large-screen-only",children:Object(h.jsx)(te,{closeMenu:function(){return null}})})]})})},ne=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(o.a)(s,2),l=r[0],u=r[1],d=Object(n.useState)({email:"",password:""}),j=Object(o.a)(d,2),b=j[0],x=j[1],f=Object(w.f)(),m=K(b.email,b.password),v=(m.userData,m.status),k=m.error,S=m.handleSignup,N=Object(n.useContext)(O).user,y=function(e){var t=e.target,c=t.name,n=t.value;x((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(G.a)({},c,n))}))};return Object(n.useEffect)((function(){N&&f.push("/app")}),[N]),Object(n.useEffect)((function(){if(null!==k)switch(k.code){case null:return;case"auth/weak-password":return void u("Your password must be at least 6 characters long");case"auth/email-already-in-use":return void u("This email is already registered.");case"auth/invalid-email":return void u("Please enter a valid email address.");default:return void u("Something went wrong. Please try again.")}else u("")}),[k]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(I,{title:"Welcome!",subtitle:"Create an account."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S()},children:[Object(h.jsx)(C,{labelText:"Email",id:"email",name:"email",placeholder:"youremail@example.com",value:b.email,onChange:y,icon:Object(h.jsx)(p.a,{icon:g.j})}),Object(h.jsx)(C,{labelText:"Password",id:"password",name:"password",type:"password",value:b.password,onChange:y}),Object(h.jsxs)("div",{className:"form-row",children:[Object(h.jsx)("input",{id:"tos",name:"tos",type:"checkbox",checked:!!c,onChange:function(){return a(!c)}}),Object(h.jsxs)("label",{htmlFor:"tos",children:[Object(h.jsx)("span",{}),"I agree to the ",Object(h.jsx)(i.b,{to:"/tos",children:"Terms of Service"}),"."]})]}),""===l?null:Object(h.jsx)("p",{className:"error",children:l}),Object(h.jsx)("button",{className:"btn btn-primary",disabled:!c||""===b.password||""===b.email,children:"loading"===v?"Loading . . . ":"success"===v?"Success!":"Sign Up"})]}),Object(h.jsxs)("p",{children:["Already have an account? ",Object(h.jsx)(i.b,{to:"/log-in",children:"Log in here"}),"."]})]})},ae=function(e){var t=e.isOpen,c=e.setIsOpen;Object(n.useContext)(O).user,Object(w.f)();return Object(h.jsx)("div",{className:t?"mobile-menu open":"mobile-menu",children:Object(h.jsx)(te,{closeMenu:function(e){c(!1)}})})},se=function(){var e=Object(n.useState)({email:"",password:"",newPassword:""}),t=Object(o.a)(e,2),c=t[0],a=t[1],s=K(c.email,c.password,c.newPassword),r=s.userData,i=s.loading,l=s.error,u=s.handleSignup,d=s.handleLogin,j=s.handleLogout,b=s.handleChangeEmail,O=s.handleChangePassword,x=function(e){var t=e.target,c=t.name,n=t.value;a((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(G.a)({},c,n))}))};return Object(n.useEffect)((function(){console.log("Loading: ",i)}),[i]),Object(n.useEffect)((function(){console.log("Error: ",l)}),[l]),Object(n.useEffect)((function(){console.log("Userdata: ",r)}),[r]),Object(h.jsx)("main",{children:Object(h.jsxs)("div",{className:"login",children:[Object(h.jsx)(I,{title:"TEST",subtitle:"Log in with your credentials."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(),console.log("Signed up!")},children:[Object(h.jsx)(C,{labelText:"Email",icon:Object(h.jsx)(p.a,{icon:g.j}),id:"email",name:"email",value:c.email,onChange:x,placeholder:"youremail@example.com"}),Object(h.jsx)(C,{labelText:"Password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"password",name:"password",value:c.password,onChange:x}),Object(h.jsx)(C,{labelText:"New password",icon:Object(h.jsx)(p.a,{icon:g.n}),type:"password",id:"new-password",name:"newPassword",value:c.newPassword,onChange:x}),null===l?null:Object(h.jsx)("p",{children:l.message}),Object(h.jsx)("button",{className:"btn btn-primary",children:!1===i?"Sign up":"Loading"})]}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),d(),console.log("Signed in!")},children:"Log in"}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),j(),console.log("Signed out!")},children:"Log out"}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),b(),console.log("Changed email!")},children:"Change Email"}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),O(),console.log("Changed pass!")},children:"Change Password"})]})})},re=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{to:"/log-in",name:"Log in"}),Object(h.jsx)(I,{title:"Reset password.",subtitle:"Please enter the email address you signed up with."}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.sendPasswordResetEmail(c).then((function(){console.log("Password reset email sent"),l(!0)})).catch((function(e){console.log(e.message)}))},children:[Object(h.jsx)(C,{labelText:"Email",icon:Object(h.jsx)(p.a,{icon:g.j}),id:"email",name:"email",value:c,onChange:function(e){return a(e.target.value)},placeholder:"youremail@example.com"}),Object(h.jsx)("button",{className:"btn btn-primary",children:i?"Password reset email sent!":"Reset Password"})]})]})},ie=c(37),oe=function(){return Object(h.jsxs)("footer",{children:[Object(h.jsxs)("a",{href:"https://github.com/aviolin/flash-cards/",children:[Object(h.jsx)(p.a,{icon:ie.a})," View the source on GitHub."]}),Object(h.jsx)("p",{children:"\xa9 Copyright 2021 Arlo Adams."})]})};var le=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],l=(r[1],Object(n.useState)(!1)),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)([]),x=Object(o.a)(b,2),p=x[0],g=x[1],v=Object(n.useState)(!1),k=Object(o.a)(v,2),C=k[0],S=k[1],N=Object(w.f)(),y=Object(n.useContext)(O).user,E=f(y),D=(E.userData,E.decks),T=m(y,c).cards;Object(n.useEffect)((function(){var e=[];p.forEach((function(t){T.forEach((function(c){c.id==t.id&&e.push(Object.assign({},c))}))})),g(e)}),[T]);var F=function(e){switch(console.log("Button clicked: ",e.target.name),e.target.name){case"cancel":return void S(!1);case"edit":return void S(!0);case"exit":return g([]),y?void N.push("/app"):void N.push("/");case"shuffle":if(0===c.length)return;var t=function(e){for(var t,c,n=e.length;0!==n;)c=Math.floor(Math.random()*n),n-=1,t=Object.assign({},e[n]),e[n]=e[c],e[c]=t;return e}(T);return g(t),void N.push("/app/shuffle");case"toggle-menu":return void j((function(e){return!e}));case"update-card":case"delete-card":return void S(!1);default:return}};return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(ce,{onClick:F}),Object(h.jsx)(ae,{isOpen:d,setIsOpen:j}),Object(h.jsxs)(w.c,{children:[Object(h.jsx)(w.a,{path:"/test",children:Object(h.jsx)(se,{})}),Object(h.jsx)(w.a,{path:"/log-in",children:Object(h.jsxs)("main",{children:[Object(h.jsx)(V,{}),Object(h.jsx)(oe,{})]})}),Object(h.jsx)(w.a,{path:"/log-out",children:Object(h.jsx)("main",{children:Object(h.jsx)(Q,{})})}),Object(h.jsx)(w.a,{path:"/sign-up",children:Object(h.jsxs)("main",{children:[Object(h.jsx)(ne,{}),Object(h.jsx)(oe,{})]})}),Object(h.jsx)(w.a,{path:"/reset-password",children:Object(h.jsxs)("main",{children:[Object(h.jsx)(re,{}),Object(h.jsx)(oe,{})]})}),Object(h.jsx)(w.a,{path:"/my-account",children:Object(h.jsxs)("main",{children:[Object(h.jsx)(ee,{}),Object(h.jsx)(oe,{})]})}),Object(h.jsx)(w.a,{path:"/app/shuffle",children:Object(h.jsx)(P,{shuffledCards:p,onClick:F,isEditingCard:C,curSelectedDeck:i})}),Object(h.jsx)(w.a,{path:"/app/d/:hash",children:Object(h.jsx)(P,{shuffledCards:p,onClick:F,isEditingCard:C,curSelectedDeck:i})}),Object(h.jsx)(w.a,{path:"/app",children:Object(h.jsxs)("main",{children:[Object(h.jsx)(W,{onClick:F,decks:D,cards:T,selectedDecks:c,setSelectedDecks:a,handleButtons:F}),Object(h.jsx)(oe,{})]})}),Object(h.jsx)(w.a,{path:"/",children:Object(h.jsxs)("main",{children:[Object(h.jsx)(q,{}),Object(h.jsx)(oe,{})]})})]})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(x,{children:Object(h.jsx)(le,{})})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.992d08db.chunk.js.map