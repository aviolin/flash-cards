{"version":3,"sources":["firebase/firebaseIndex.js","provider/AuthProvider.js","hooks/useOnUserSnapshot.js","hooks/useGetShuffledCards.js","components/Header.js","components/Button.js","components/TextInput.js","components/DeckCreator.js","firebase/dbMethods.js","components/CardEditor.js","components/CardContent.js","components/FlippableCard.js","components/Carousel.js","components/Deck.js","components/new/PageHeading.js","components/new/Breadcrumb.js","components/new/CardEditor.js","components/new/Accordion.js","components/new/CardCreator.js","components/new/DeckEditor.js","components/new/Lightbox.js","components/SelectableDeck.js","components/DeckList.js","components/Dashboard.js","images/hero.jpg","components/new/Landing.js","hooks/useAuth.js","components/Login.js","components/Spinner.js","components/Logout.js","components/new/UpdateEmail.js","components/new/ChangePassword.js","components/new/DeleteAccount.js","components/MyAccount.js","components/Navlinks.js","components/Nav.js","components/Signup.js","components/MobileMenu.js","components/new/Test.js","components/new/ResetPassword.js","components/new/Footer.js","App.js","index.js"],"names":["firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","auth","db","firestore","fb","firebaseAuth","React","createContext","AuthProvider","props","useState","user","setUser","useEffect","unsub","onAuthStateChanged","Provider","value","children","useOnUserSnapshot","userData","setUserData","decks","setDecks","unsubscribe","collection","doc","uid","onSnapshot","snapshot","uData","data","console","log","where","arr","forEach","deck","push","useGetShuffledCards","deckIds","cards","setCards","length","ref","card","error","message","Header","title","className","Button","type","onClick","view","classes","disabled","undefined","_view","icon","faArrowLeft","size","faTimes","faEdit","id","name","TextInput","labelText","placeholder","onChange","autocomplete","isHidden","setIsHidden","faLock","htmlFor","autoComplete","event","preventDefault","prev","faEye","faEyeSlash","DeckCreator","setTitle","isPublic","setIsPublic","useContext","history","useHistory","onSubmit","dbMethods","createDeck","faHeading","target","checked","document","newDeck","numCards","owner","private","set","then","catch","err","deleteDeck","deckId","delete","updateDeck","isPrivate","updatedDeck","update","createCard","front","back","newCard","res","FieldValue","increment","updateCard","cardId","updatedCard","deleteCard","CardEditor","frontText","backText","isAddingCard","isBack","setFront","setBack","handleInput","faCheck","faTrash","CardContent","text","FlippableCard","frontTitle","backTitle","isEditing","isFlipped","setIsFlipped","updateShuffled","header","backHeader","cloneElement","editor","isShowingBack","backEditor","footer","faReply","Carousel","leftButtonText","rightButtonText","animTime","items","previousCallback","nextCallback","showButtons","index","setIndex","carouselItems","setCarouselItems","canSlide","setCanSlide","carousel","useRef","modifiedItems","map","ele","key","firstItem","lastItem","unshift","setTimeout","current","style","transition","handleClick","idx","marginLeft","width","Deck","shuffledCards","isEditingCard","curSelectedDeck","hashCards","setHashCards","isCardFlipped","setIsCardFlipped","canView","setCanView","hash","useParams","get","_cards","slideCallback","faAngleLeft","faAngleRight","PageHeading","subtitle","heading","titleElement","Breadcrumb","to","Accordion","setCard","cardEditorElements","setCardEditorElements","elements","Fragment","faAngleUp","faAngleDown","CardCreator","isOpen","setIsOpen","faMinus","faPlus","DeckEditor","selectedDecks","deckToEdit","setDeckToEdit","Lightbox","onClose","SelectableDeck","toggleDeck","setSelectedDecks","shareIsOpen","setShareIsOpen","includes","stopPropagation","faShare","copyText","navigator","clipboard","writeText","faClone","DeckList","handleButtons","deckList","setDeckList","filter","Dashboard","path","faRandom","Landing","src","heroImage","useAuth","email","password","newPassword","setError","status","setStatus","login","setLogin","signup","setSignup","logout","setLogout","changeEmail","setChangeEmail","changePassword","setChangePassword","deleteAccount","setDeleteAccount","signInWithEmailAndPassword","userCredential","_user","createUserWithEmailAndPassword","signOut","code","credential","EmailAuthProvider","currentUser","reauthenticateWithCredential","updateEmail","updatePassword","handleLogin","handleSignup","handleLogout","handleChangeEmail","handleChangePassword","handleDeleteAccount","Login","errorMessage","setErrorMessage","inputs","setInputs","handleChange","e","faEnvelope","Spinner","faSpinner","Logout","UpdateEmail","loading","success","ChangePassword","DeleteAccount","MyAccount","exact","faSignOutAlt","Navlinks","closeMenu","faTable","faUserCircle","faUserPlus","faSignInAlt","Nav","faBars","Signup","tos","setTos","MobileMenu","Test","ResetPassword","setEmail","setSuccess","sendPasswordResetEmail","Footer","href","faGithub","App","isMenuOpen","setIsMenuOpen","setShuffledCards","setIsEditingCard","Object","assign","randomized_cards","array","temporaryValue","randomIndex","currentIndex","Math","floor","random","fisherYatesShuffle","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa764b34.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nimport 'firebase/auth';\r\nimport 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth=firebase.auth();\r\nexport const db=firebase.firestore();\r\nexport const fb=firebase;\r\n\r\nexport default { firebaseConfig }","import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../firebase/firebaseIndex';\r\n\r\nexport const firebaseAuth = React.createContext();\r\n\r\nconst AuthProvider = (props) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsub = auth.onAuthStateChanged((user) => {\r\n      user ? setUser(user) : setUser(null);\r\n    });\r\n\r\n    return () => unsub();\r\n  });\r\n\r\n  return (\r\n    <firebaseAuth.Provider\r\n      value={{\r\n        user\r\n      }}\r\n    >\r\n      {props.children}\r\n    </firebaseAuth.Provider>\r\n  )\r\n}\r\n\r\nexport default AuthProvider;","import { useState, useEffect } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nconst useOnUserSnapshot = (user) => {\r\n  const db = firebase.firestore();\r\n  const [userData, setUserData] = useState(null);\r\n  const [decks, setDecks] = useState([]);\r\n\r\n  // get data from current user document in users collection\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    let ref = db.collection('users').doc(user.uid);\r\n    let unsubscribe = ref.onSnapshot((snapshot) => {\r\n      let uData = snapshot.data();\r\n      setUserData(uData);\r\n      console.log(\"User data updated: \", uData);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [user]);\r\n\r\n  // get data from decks sub collection of current user document\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    let ref = db.collection('decks');\r\n    let unsubscribe = ref.where(\"owner\", \"==\", user.uid).onSnapshot((snapshot) => {\r\n      let arr = [];\r\n      snapshot.forEach(deck => arr.push(deck.data()));\r\n      setDecks(arr);\r\n      console.log(\"Deck data updated: \", arr);\r\n    })\r\n\r\n    return () => unsubscribe();\r\n  }, [user]);\r\n\r\n  return { userData, decks };\r\n}\r\n\r\nexport default useOnUserSnapshot;","import { useState, useEffect } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nconst useGetShuffledCards = (user, deckIds) => {\r\n  const db = firebase.firestore();\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    if (deckIds.length === 0) {\r\n      setCards([]);\r\n      return;\r\n    }\r\n\r\n    let ref = db.collection('cards');\r\n    console.log(\"DECKIDS: \", deckIds);\r\n    let unsubscribe = ref.where(\"deckId\", \"in\", deckIds).onSnapshot((snapshot) => {\r\n      let arr = [];\r\n      snapshot.forEach(card => arr.push(card.data()));\r\n      setCards(arr);\r\n      console.log(\"Cards updated: \", arr)\r\n    }, (error) => {\r\n      console.log(\"Error: \", error.message)\r\n    })\r\n    return () => unsubscribe();\r\n  }, [user, deckIds])\r\n\r\n  return { cards };\r\n}\r\n\r\nexport default useGetShuffledCards;","import React from 'react';\r\n\r\nconst Header = ({\r\n  title,\r\n  children\r\n}) => {\r\n  return (\r\n    <header className=\"card-header\">\r\n      <p>\r\n        {title}\r\n      </p>\r\n      <div>\r\n        {children}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faEdit, faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Button = ({ \r\n  type, \r\n  onClick, \r\n  view, \r\n  classes,\r\n  disabled\r\n}) => {\r\n\r\n  classes === undefined ? classes=\"btn \" : classes += \" btn \";\r\n  let _view = null;\r\n\r\n  switch (type) {\r\n    case \"cancel\":\r\n      classes+=\"btn-x\";\r\n      _view = <FontAwesomeIcon icon={faArrowLeft} size=\"2x\"/>;\r\n      break;\r\n    case \"exit\":\r\n      classes+=\"btn-x\";\r\n      _view = <FontAwesomeIcon icon={ faTimes } size=\"2x\" />;\r\n      break;\r\n    case \"edit\":\r\n      classes+=\"btn-x\";\r\n      _view = <FontAwesomeIcon icon={ faEdit } size=\"2x\" />;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <button\r\n      id={type}\r\n      name={type}\r\n      onClick={onClick}\r\n      className={classes}\r\n      disabled={disabled ? disabled : false}\r\n    >\r\n      {view ? view : _view}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Button;","import React, { useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEye, faEyeSlash, faLock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst TextInput = ({\r\n  labelText,\r\n  icon=null,\r\n  type=\"text\",\r\n  id=\"\",\r\n  name=\"\",\r\n  placeholder=\"\",\r\n  value,\r\n  onChange,\r\n  autocomplete=\"on\"\r\n}) => {\r\n  //const [value, setValue] = useState(\"\");\r\n  const [isHidden, setIsHidden] = useState(true);\r\n\r\n  const toggleHidden = (event) => {\r\n    event.preventDefault();\r\n    setIsHidden(prev => !prev);\r\n  }\r\n\r\n  if (icon === null && type===\"password\")\r\n    icon = <FontAwesomeIcon icon={faLock} />\r\n\r\n  return (\r\n    <div className=\"input-block\">\r\n      <label htmlFor={id}>{labelText}</label>\r\n      <div className=\"input-row\">\r\n        {icon}\r\n        <input \r\n          type={type === \"password\" ? isHidden ? \"password\" : \"text\" : type}\r\n          name={name}\r\n          id={id}\r\n          value={value}\r\n          onChange={onChange}\r\n          placeholder={placeholder}\r\n          autoComplete={autocomplete}\r\n        >\r\n        </input>\r\n        {type === \"password\" ?\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-icon\"\r\n            onClick={toggleHidden}\r\n          >\r\n            {isHidden ?\r\n              <FontAwesomeIcon icon={faEye} />\r\n            :\r\n              <FontAwesomeIcon icon={faEyeSlash} />\r\n            }\r\n          </button>\r\n        :\r\n          null\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TextInput;","import React, { useState, useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faHeading } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { dbMethods } from '../firebase/dbMethods';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport TextInput from './TextInput';\r\nimport Button from './Button';\r\n\r\nconst DeckCreator = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [isPublic, setIsPublic] = useState(false);\r\n  const { user } = useContext(firebaseAuth);\r\n  const history = useHistory();\r\n\r\n  const createDeck = (event) => {\r\n    event.preventDefault();\r\n    dbMethods.createDeck(user, title, isPublic);\r\n    history.push(\"/app\");\r\n  }\r\n\r\n  return (\r\n    <form \r\n      id=\"new-deck\" \r\n      onSubmit={createDeck}\r\n    >\r\n      {/* <label htmlFor=\"title\">Create a new deck:</label>\r\n      <div>\r\n        <input \r\n          type=\"text\"\r\n          id=\"title\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={(event) => setTitle(event.target.value)}\r\n          placeholder=\"New Deck TItle\"\r\n          autoComplete=\"off\"\r\n        /> */}\r\n        <TextInput \r\n          labelText=\"Title\"\r\n          icon={<FontAwesomeIcon icon={faHeading} />}\r\n          id=\"title\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={(event) => setTitle(event.target.value)}\r\n          placeholder=\"New Deck\"\r\n          autocomplete=\"off\"\r\n        />\r\n        <input\r\n          id=\"public\"\r\n          name=\"public\"\r\n          type=\"checkbox\"\r\n          checked={isPublic ? true : false}\r\n          onChange={(event) => setIsPublic(!isPublic)}\r\n        />\r\n        <label htmlFor=\"public\">\r\n          <span></span>\r\n          Is this deck public and shareable?\r\n        </label>\r\n        <button\r\n          className=\"btn btn-primary\"\r\n        >\r\n          Create!\r\n        </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default DeckCreator;","import { db } from './firebaseIndex';\r\nimport firebase from 'firebase';\r\nimport DeckCreator from '../components/DeckCreator';\r\n\r\nexport const dbMethods = {\r\n\r\n  // SEND TO DATABASE\r\n  createDeck: (user, title, isPublic) => {\r\n    if (!user) {\r\n      console.log(\"No user selected.\");\r\n      return;\r\n    }\r\n\r\n    const document = db.collection('decks').doc();\r\n\r\n    const newDeck = {\r\n      id: document.id,\r\n      numCards: 0,\r\n      title,\r\n      owner: user.uid,\r\n      private: !isPublic,\r\n    }\r\n\r\n    document.set(newDeck)\r\n    .then(console.log(\"Created new deck.\"))\r\n    .catch(err => {\r\n      console.error(\"Error creating deck: \", err.message);\r\n    });\r\n  },\r\n\r\n  deleteDeck: (user, deckId) => {\r\n    if (!user) {\r\n      console.log(\"No user selected.\");\r\n      return;\r\n    }\r\n\r\n    db.collection('decks').doc(deckId).delete()\r\n    .then(console.log(\"Deck successfully deleted.\"))\r\n    .catch(err => {\r\n      console.error(\"Error deleting deck: \", err.message);\r\n    });\r\n  },\r\n\r\n  updateDeck: (user, deckId, title, isPrivate) => {\r\n    if (!user) {\r\n      console.log(\"No user selected.\");\r\n      return;\r\n    }\r\n\r\n    const updatedDeck = {\r\n      title,\r\n      private: isPrivate\r\n    }\r\n\r\n    db.collection('decks').doc(deckId).update(updatedDeck)\r\n    .then(console.log(\"Updated deck with id: \", deckId))\r\n    .catch(err => {\r\n      console.error(\"Error updating document: \", err.message);\r\n    });\r\n  },\r\n\r\n  createCard: (user, deckId, front, back) => {\r\n    if (!user) {\r\n      console.log(\"No user selected.\");\r\n      return;\r\n    }\r\n\r\n    const document = db.collection('cards').doc();\r\n\r\n    const newCard = {\r\n      id: document.id,\r\n      deckId,\r\n      owner: user.uid,\r\n      front,\r\n      back,\r\n    }\r\n\r\n    document.set(newCard)\r\n    .then(res => {\r\n      console.log(\"New card created.\")\r\n      db.collection('decks').doc(deckId).update({\r\n        numCards: firebase.firestore.FieldValue.increment(1)\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Error increasing card count.\");\r\n      })\r\n    })\r\n    .catch(err => {\r\n      console.error(\"Error creating card: \", err.message);\r\n    });\r\n  },\r\n\r\n  updateCard: (user, cardId, front, back) => {\r\n    if (!user) {\r\n      console.log(\"No user selected.\");\r\n      return;\r\n    }\r\n\r\n    const updatedCard = {\r\n      front,\r\n      back\r\n    }\r\n    console.log(\"CardId: \", cardId);\r\n\r\n    db.collection('cards').doc(cardId).update(updatedCard)\r\n    .then(res => {\r\n      console.log(\"Updated card with id: \", cardId);\r\n    })\r\n    .catch(err => {\r\n      console.error(\"Error updating card: \", err.message);\r\n    })\r\n  },\r\n\r\n  deleteCard: (user, deckId, cardId) => {\r\n    if (!user) {\r\n      console.log(\"No user selected.\");\r\n      return;\r\n    }\r\n\r\n    db.collection('cards').doc(cardId).delete()\r\n    .then(res => {\r\n      console.log(\"Card successfully deleted.\")\r\n      db.collection('decks').doc(deckId).update({\r\n        numCards: firebase.firestore.FieldValue.increment(-1)\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Error decreasing card count.\");\r\n      })\r\n    })\r\n    \r\n    .catch(err => {\r\n      console.error(\"Error deleting card: \", err.message);\r\n    });\r\n  },\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash, faCheck } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { dbMethods } from '../firebase/dbMethods';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\n\r\nconst CardEditor = ({\r\n  frontText,\r\n  backText,\r\n  cardId,\r\n  deckId,\r\n  isAddingCard,\r\n  isBack,\r\n  onClick\r\n}) => {\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  const [front, setFront] = useState('');\r\n  const [back, setBack] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (isAddingCard) return;\r\n    setFront(frontText);\r\n    setBack(backText);\r\n  }, [frontText, backText, isAddingCard])\r\n\r\n  const handleInput = (event) => {\r\n    if (event.target.name === \"front\") {\r\n      setFront(event.target.value);\r\n    } else if (event.target.name === \"back\") {\r\n      setBack(event.target.value);\r\n    }\r\n  }\r\n\r\n  const updateCard = (event) => {\r\n    event.preventDefault();\r\n    if (!isAddingCard) {\r\n      console.log(\"Card to update: \", cardId);\r\n      dbMethods.updateCard(user, cardId, front, back)\r\n    } else {\r\n      console.log(\"Creating new card.\");\r\n      console.log(deckId);\r\n      dbMethods.createCard(user, deckId, front, back)\r\n    }\r\n\r\n    onClick(event);\r\n  }\r\n\r\n  const deleteCard = (event) => {\r\n    event.preventDefault();\r\n    dbMethods.deleteCard(user, deckId, cardId);\r\n\r\n    onClick(event);\r\n  }\r\n\r\n  return (\r\n    <form>\r\n      {isBack ?\r\n        <>\r\n          <textarea \r\n            name=\"back\"\r\n            value={back}\r\n            onChange={handleInput}\r\n          />\r\n        </>\r\n      :\r\n        <>\r\n          <textarea\r\n            name=\"front\"\r\n            value={front}\r\n            onChange={handleInput}\r\n          />\r\n        </>\r\n      }\r\n      <div className=\"buttons\">\r\n        <button \r\n          className=\"btn-secondary\"\r\n          name=\"update-card\"\r\n          onClick={updateCard}\r\n        >    \r\n          <FontAwesomeIcon icon={faCheck} size=\"1x\" className=\"icon\" /> Save\r\n        </button>\r\n        {isAddingCard ? null : \r\n          <button\r\n            className=\"btn-warning\"\r\n            name=\"delete-card\"\r\n            onClick={deleteCard}\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} /> Delete Card\r\n          </button>\r\n        }\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CardEditor;","import React from 'react';\r\n\r\nconst CardContent = ({\r\n  text\r\n}) => {\r\n  return (\r\n    <>\r\n      <p className=\"content\">\r\n        {text}\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CardContent;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faReply, faTimes, faEdit } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport Header from './Header';\r\nimport Button from './Button';\r\nimport CardEditor from './CardEditor';\r\nimport CardContent from './CardContent';\r\n\r\nconst FlippableCard = ({\r\n  onClick,\r\n  frontTitle,\r\n  backTitle,\r\n  frontText,\r\n  backText,\r\n  isEditing,\r\n  isFlipped,\r\n  setIsFlipped,\r\n  deckId,\r\n  cardId,\r\n  isAddingCard,\r\n  update,\r\n  updateShuffled\r\n}) => {\r\n  const header = isEditing ? (\r\n    <Header title={frontTitle}>\r\n      <Button \r\n        type=\"cancel\" \r\n        onClick={onClick}\r\n      />\r\n    </Header>\r\n  ) : (\r\n    <Header title={frontTitle}>\r\n      {/* <button \r\n        className=\"btn btn-icon-small\"\r\n        name=\"edit\"\r\n        onClick={onClick}\r\n      >\r\n        <FontAwesomeIcon icon={faEdit} />&nbsp;Edit\r\n      </button> */}\r\n      <button \r\n        className=\"btn btn-icon-small\"\r\n        name=\"exit\"\r\n        onClick={onClick}\r\n      >\r\n        <FontAwesomeIcon icon={faTimes} />&nbsp;Close\r\n      </button>\r\n    </Header>\r\n  )\r\n\r\n  const backHeader = React.cloneElement(header, { title: backTitle });\r\n\r\n  const editor = (\r\n    <CardEditor \r\n      frontText={frontText}\r\n      backText={backText}\r\n      deckId={deckId}\r\n      cardId={cardId}\r\n      isAddingCard={isAddingCard}\r\n      update={update}\r\n      updateShuffled={updateShuffled}\r\n      isShowingBack={isFlipped}\r\n      onClick={onClick}\r\n    />\r\n  )\r\n\r\n  const backEditor = React.cloneElement(editor, { isBack: true });\r\n\r\n  const footer = (\r\n    <>\r\n      {!isEditing && !isAddingCard ? \r\n        <footer>\r\n          <button \r\n            className=\"curl\"\r\n            name=\"toggle\"\r\n            onClick={ () => setIsFlipped(prev => !prev) }\r\n          >    \r\n            <FontAwesomeIcon icon={faReply} size=\"2x\" className=\"icon\" />\r\n          </button>\r\n        </footer>\r\n      :\r\n        null\r\n      }\r\n    </>\r\n  );\r\n \r\n  return (\r\n    <div className={isFlipped ? \"flippable flipped\" : \"flippable\"}>\r\n      <div className=\"flippable__inner\">\r\n        <div className=\"flippable__content front\">\r\n          {header}\r\n          {isEditing || isAddingCard ? \r\n            editor\r\n          :\r\n            <CardContent text={frontText} />\r\n          }\r\n          {footer}\r\n        </div>\r\n        <div className=\"flippable__content back\">\r\n          {backHeader}\r\n          {isEditing || isAddingCard ? \r\n            backEditor\r\n          :\r\n            <CardContent text={backText} />\r\n          }\r\n          {footer}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FlippableCard;","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst WRAP_BUFFER = 50;\r\n\r\nconst Carousel = ({\r\n  leftButtonText=\"<\",\r\n  rightButtonText=\">\",\r\n  animTime=.5,\r\n  items,\r\n  previousCallback,\r\n  nextCallback,\r\n  showButtons=true\r\n}) => {\r\n  const [index, setIndex] = useState(0);\r\n  const [carouselItems, setCarouselItems] = useState([]);\r\n  const [canSlide, setCanSlide] = useState(true);\r\n\r\n  const carousel = useRef(null);\r\n\r\n  useEffect(() => {\r\n    let modifiedItems = items.map((ele) => {\r\n      return (\r\n        <div \r\n          className=\"carousel__item\"\r\n          key={ele.key}\r\n        >\r\n          {ele}\r\n{/*           <div className=\"carousel__card\">{ele}</div> */}\r\n        </div>\r\n      )\r\n    });\r\n\r\n    if (items.length > 0) {\r\n      let firstItem = React.cloneElement(modifiedItems[0], { key: \"first\" });\r\n      let lastItem = React.cloneElement(modifiedItems[modifiedItems.length - 1], { key: \"last\" });\r\n      modifiedItems.unshift(lastItem);\r\n      modifiedItems.push(firstItem);\r\n    }\r\n\r\n    setCarouselItems(modifiedItems);\r\n  }, [items]);\r\n\r\n  useEffect(() => {\r\n    if (carouselItems.length < 3) return;\r\n\r\n    if (index === 0 || index === carouselItems.length - 1) {\r\n      setTimeout(() => {\r\n        carousel.current.style.transition = \"margin 0s\";\r\n        if (index === 0) {\r\n          setIndex(carouselItems.length - 2);\r\n        } else if (index === carouselItems.length - 1) {\r\n          setIndex(1);\r\n        }\r\n\r\n      }, animTime * 1000)\r\n    }\r\n\r\n    if (index === 1 || index === carouselItems.length - 2) {\r\n\r\n      /* If WRAP_BUFFER is too short, the transition will be set too soon. */\r\n      setTimeout(() => {\r\n        carousel.current.style.transition = \"margin \" + animTime + \"s\";\r\n      }, WRAP_BUFFER)\r\n    }\r\n  }, [index, carouselItems, animTime]);\r\n\r\n  const handleClick = (event) => {\r\n    if (!canSlide) return;\r\n\r\n    if (event.target.name === \"right\") {\r\n      setIndex(idx => idx + 1);\r\n      if (nextCallback != undefined) {\r\n        nextCallback(index-1);\r\n      }\r\n      \r\n    } else if (event.target.name === \"left\") {\r\n      setIndex(idx => idx - 1);\r\n      if (previousCallback != undefined) {\r\n        previousCallback(index-1);\r\n      }\r\n    }\r\n    setCanSlide(false);\r\n    setTimeout(() => setCanSlide(true), animTime * 1000 + WRAP_BUFFER);\r\n  }\r\n\r\n  return (\r\n    <div className=\"carousel\">\r\n      <div \r\n        ref={carousel}\r\n        className=\"carousel__inner\"\r\n        style={{ \r\n          marginLeft: \"calc(-100% * \" + index + \")\",\r\n          width: (carouselItems.length * 100) + \"%\",\r\n          transition: \"margin \" + animTime + \"s\",\r\n       }}\r\n      >\r\n        {carouselItems}\r\n      </div>\r\n      <div className=\"spacer\"></div>\r\n      {showButtons ?\r\n        <>\r\n          <button \r\n            className=\"btn-carousel left\"\r\n            onClick={(event) => handleClick(event)}\r\n            name=\"left\"\r\n            disabled={!canSlide}\r\n          >{leftButtonText}</button>\r\n          <button \r\n            className=\"btn-carousel right\"\r\n            onClick={(event) => handleClick(event)}\r\n            name=\"right\"\r\n            disabled={!canSlide}\r\n          >{rightButtonText}</button>\r\n        </>\r\n        :\r\n        null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Carousel;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport FlippableCard from './FlippableCard';\r\nimport Carousel from './Carousel';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nimport firebase from 'firebase';\r\n\r\nconst Deck = ({ \r\n  shuffledCards,\r\n  onClick,\r\n  isEditingCard,\r\n  curSelectedDeck,\r\n}) => {\r\n  const [cards, setCards] = useState([]);\r\n  const [hashCards, setHashCards] = useState(null);\r\n  const [isCardFlipped, setIsCardFlipped] = useState(false);\r\n  const [canView, setCanView] = useState(true);\r\n\r\n  const { hash } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (hash === undefined) return;\r\n    if (shuffledCards.length > 0) return;\r\n\r\n    const db = firebase.firestore();\r\n\r\n    db.collection('decks').doc(hash).get()\r\n    .then(snapshot => {\r\n      if (snapshot.data().private) {\r\n        setCanView(false);\r\n      }\r\n    })\r\n    .catch(error => console.log(\"ERRORHERE: \", error.message))\r\n\r\n    let ref = db.collection('cards');\r\n    ref.where(\"deckId\", \"==\", hash).get()\r\n      .then(snapshot => {\r\n        let arr = [];\r\n        snapshot.forEach(card => arr.push(card.data()));\r\n        setHashCards(arr);\r\n      })\r\n      .catch(error => console.log(\"???\", error.message))\r\n\r\n  }, [hash]);\r\n  \r\n  useEffect(() => {\r\n    console.log(\"Changed\");\r\n  }, [hash])\r\n\r\n  useEffect(() => {\r\n    let frontTitle = \"Front\";\r\n    let backTitle = \"Back\";\r\n\r\n    let _cards = [];\r\n\r\n    if (hashCards != null) {\r\n      _cards = hashCards;\r\n    } else {\r\n      _cards = shuffledCards;\r\n    }\r\n\r\n\r\n    if (_cards.length > 0) {\r\n      setCards(_cards.map((ele) => {\r\n        return (\r\n          <FlippableCard \r\n            key={ele.id}\r\n            frontTitle={frontTitle}\r\n            backTitle={backTitle}\r\n            frontText={ele.front}\r\n            backText={ele.back}\r\n            onClick={onClick}\r\n            isFlipped={isCardFlipped}\r\n            setIsFlipped={setIsCardFlipped}\r\n            isEditing={isEditingCard}\r\n            cardId={ele.id}\r\n            deckId={ele.deckId}\r\n          />\r\n        )\r\n      }));\r\n    }\r\n\r\n    }, [shuffledCards, isCardFlipped, onClick, isEditingCard, curSelectedDeck, hashCards]\r\n  );\r\n\r\n  /*if (!canView) {\r\n    return (\r\n      <main>\r\n        <div className=\"container center\">\r\n          <p>This deck is private. If you are the owner of this deck, you must log in to view it.</p>\r\n        </div>\r\n      </main>\r\n    )\r\n  }*/\r\n\r\n  if (!canView || cards.length === 0) return (\r\n    <main>\r\n      <div className=\"container center\">\r\n        <p>This deck is either private or has no cards.</p>\r\n      </div>\r\n    </main>\r\n  );\r\n\r\n  const slideCallback = (index) => {\r\n    setIsCardFlipped(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Carousel \r\n        items={cards}\r\n        leftButtonText={<FontAwesomeIcon icon={faAngleLeft} />}\r\n        rightButtonText={<FontAwesomeIcon icon={faAngleRight} />}\r\n        animTime={.3}\r\n        previousCallback={slideCallback}\r\n        nextCallback={slideCallback}\r\n        showButtons={isEditingCard ? false : true}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Deck;","import React from 'react';\r\n\r\nconst PageHeading = ({\r\n  title,\r\n  subtitle,\r\n  heading=\"h1\"\r\n}) => {\r\n  let titleElement = null;\r\n  if (heading === \"h1\") {\r\n    titleElement=<h1>{title}</h1>\r\n  } else {\r\n    titleElement=<h2>{title}</h2>\r\n  }\r\n\r\n  return (\r\n    <header className=\"page-heading\">\r\n      {titleElement}\r\n      <p className=\"subtitle\">{subtitle}</p>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default PageHeading;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleLeft } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Breadcrumb = ({\r\n  to,\r\n  name\r\n}) => {\r\n  return (\r\n    <Link \r\n      className=\"breadcrumb\"\r\n      to={to}\r\n    >\r\n      <FontAwesomeIcon icon={faAngleLeft} />&nbsp;&nbsp;&nbsp;{name}\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default Breadcrumb;","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { dbMethods } from '../../firebase/dbMethods';\r\nimport { firebaseAuth } from '../../provider/AuthProvider';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport React, { useState, useEffect, useContext } from 'react';\r\n\r\nconst CardEditor = ({\r\n  card,\r\n}) => {\r\n  const { user } = useContext(firebaseAuth);\r\n  const [front, setFront] = useState(\"\");\r\n  const [back, setBack] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setFront(card.front);\r\n    setBack(card.back);\r\n  }, [card])\r\n\r\n  const handleInput = (event) => {\r\n    if (event.target.name === \"front\") {\r\n      setFront(event.target.value);\r\n    } else if (event.target.name === \"back\") {\r\n      setBack(event.target.value);\r\n    }\r\n  }\r\n\r\n  const updateCard = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Card to update: \", card.id);\r\n    dbMethods.updateCard(user, card.id, front, back)\r\n  }\r\n\r\n  const deleteCard = (event) => {\r\n    event.preventDefault();\r\n    dbMethods.deleteCard(user, card.deckId, card.id);\r\n  }\r\n\r\n  return (\r\n    <form className=\"card-editor\" onSubmit={updateCard}>\r\n      <label>Front</label>\r\n      <textarea\r\n        name=\"front\"\r\n        value={front}\r\n        onChange={handleInput}\r\n\r\n      />\r\n      <label>Back</label>\r\n      <textarea\r\n        name=\"back\"\r\n        value={back}\r\n        onChange={handleInput}\r\n      />\r\n      <button className=\"btn\"\r\n\r\n      >Update</button>\r\n      <button className=\"btn btn-warning-small\"\r\n        onClick={deleteCard}\r\n      >\r\n        <FontAwesomeIcon icon={faTrash} /> Delete card\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CardEditor;","import React, { useEffect, useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons';\r\nimport CardEditor from './CardEditor';\r\n\r\nconst Accordion = ({\r\n  deckId,\r\n  cards\r\n}) => {\r\n  const [card, setCard] = useState(\"\");\r\n  const [cardEditorElements, setCardEditorElements] = useState([]);\r\n\r\n  const handleClick = (event) => {\r\n    setCard(prev => prev === event.target.value ? \"\" : event.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const elements = cards.map(ele => {\r\n      let classes = ele.id === card ? \"btn btn-tertiary highlighted\" : \"btn btn-tertiary\";\r\n      return (\r\n        <React.Fragment key={ele.id} >\r\n          <button \r\n            className={classes}\r\n            value={ele.id}\r\n            onClick={handleClick}\r\n          >\r\n            <span className=\"truncate\">\"{ele.front}\"</span> \r\n            {card === ele.id ?\r\n              <FontAwesomeIcon icon={faAngleUp} />\r\n            :\r\n              <FontAwesomeIcon icon={faAngleDown} />\r\n            }\r\n          </button>\r\n          {card === ele.id ? \r\n            <CardEditor\r\n              card={ele}\r\n            />\r\n          :\r\n            null\r\n          }\r\n        </React.Fragment>\r\n      )\r\n    })\r\n\r\n    setCardEditorElements(elements);\r\n  }, [card, cards])\r\n\r\n  return (\r\n    <>\r\n      {cardEditorElements}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Accordion;","import React, { useState, useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faMinus } from '@fortawesome/free-solid-svg-icons';\r\nimport { firebaseAuth } from '../../provider/AuthProvider';\r\nimport { dbMethods } from '../../firebase/dbMethods';\r\n\r\nconst CardCreator = ({\r\n  deckId\r\n}) => {\r\n  const { user } = useContext(firebaseAuth);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [front, setFront] = useState(\"\");\r\n  const [back, setBack] = useState(\"\");\r\n\r\n  const handleInput = (event) => {\r\n    if (event.target.name === \"front\") {\r\n      setFront(event.target.value);\r\n    } else if (event.target.name === \"back\") {\r\n      setBack(event.target.value);\r\n    }\r\n  }\r\n\r\n  const createCard = (event) => {\r\n    event.preventDefault();\r\n    console.log(\"Creating new card.\");\r\n    dbMethods.createCard(user, deckId, front, back);\r\n    setFront(\"\");\r\n    setBack(\"\");\r\n    setIsOpen(false);\r\n  }\r\n\r\n  if (!isOpen) return (\r\n    <button className=\"btn btn-tertiary highlighted\"\r\n      onClick={() => setIsOpen(true)}\r\n    >\r\n      Add card <FontAwesomeIcon icon={faPlus} />\r\n    </button>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <button id=\"add\" className=\"btn btn-tertiary highlighted\"\r\n        onClick={() => setIsOpen(false)}\r\n      >\r\n        Add card <FontAwesomeIcon icon={faMinus} />\r\n      </button>\r\n      <form className=\"card-editor\" onSubmit={createCard}>\r\n        <label>Front</label>\r\n        <textarea\r\n          name=\"front\"\r\n          value={front}\r\n          onChange={handleInput}\r\n\r\n        />\r\n        <label>Back</label>\r\n        <textarea\r\n          name=\"back\"\r\n          value={back}\r\n          onChange={handleInput}\r\n        />\r\n        <button className=\"btn\">Create</button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CardCreator;","import React, { useState, useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeading, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { firebaseAuth } from '../../provider/AuthProvider';\r\nimport { dbMethods } from '../../firebase/dbMethods';\r\nimport { useHistory } from 'react-router-dom';\r\nimport PageHeading from './PageHeading';\r\nimport Breadcrumb from './Breadcrumb';\r\nimport TextInput from '../TextInput';\r\nimport Accordion from './Accordion';\r\nimport CardCreator from './CardCreator';\r\n\r\nconst DeckEditor = ({\r\n  selectedDecks,\r\n  deckToEdit,\r\n  setDeckToEdit,\r\n  cards\r\n}) => {\r\n  const { user } = useContext(firebaseAuth);\r\n  const history = useHistory();\r\n  const [title, setTitle] = useState(deckToEdit.title);\r\n  const [isPublic, setIsPublic] = useState(!deckToEdit.private);\r\n\r\n  const updateDeck = (event) => {\r\n    event.preventDefault();\r\n    dbMethods.updateDeck(user, deckToEdit.id, title, !isPublic)\r\n    setDeckToEdit({...deckToEdit, title, private: !isPublic});\r\n  }\r\n\r\n  const deleteDeck = (event) => {\r\n    event.preventDefault();\r\n    dbMethods.deleteDeck(user, deckToEdit.id);\r\n    history.push('/app');\r\n    setDeckToEdit(null);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb \r\n        to=\"/app\"\r\n        name=\"Dashboard\"\r\n      />\r\n      <PageHeading\r\n        title=\"Edit deck.\"\r\n        subtitle=\"Update the title and privacy status of your deck.\"\r\n      />\r\n      <form onSubmit={updateDeck}>\r\n        <TextInput \r\n          labelText=\"Title\"\r\n          icon={<FontAwesomeIcon icon={faHeading} />}\r\n          id=\"title\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={(event) => setTitle(event.target.value)}\r\n          placeholder=\"New Deck\"\r\n          autocomplete=\"off\"\r\n        />\r\n        <input\r\n          id=\"public\"\r\n          name=\"public\"\r\n          type=\"checkbox\"\r\n          checked={isPublic ? true : false}\r\n          onChange={(event) => setIsPublic(!isPublic)}\r\n        />\r\n        <label htmlFor=\"public\">\r\n          <span></span>\r\n          Is this deck public and shareable?\r\n        </label>\r\n        <button\r\n          className=\"btn btn-primary\"\r\n        >\r\n          Update\r\n        </button>\r\n      </form>\r\n      <section>\r\n        <PageHeading \r\n          title=\"Cards.\"\r\n          subtitle=\"Add, edit, and remove cards from this deck.\"\r\n          heading=\"h2\"\r\n        />\r\n        <Accordion\r\n          deckId={selectedDecks[0]}\r\n          cards={cards}\r\n        />\r\n        <CardCreator \r\n          deckId={selectedDecks[0]}\r\n        />\r\n      </section>\r\n      <section>\r\n        <PageHeading \r\n          title=\"Delete deck.\"\r\n          subtitle=\"Permanently delete this deck and all its cards.\"\r\n          heading=\"h2\"\r\n        />\r\n        <form onSubmit={deleteDeck}>\r\n          <button\r\n            className=\"btn btn-warning\"\r\n          >Delete</button>\r\n        </form>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DeckEditor;","import React from 'react';\r\nimport Header from '../Header';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { useState } from 'react';\r\n\r\nconst Lightbox = ({\r\n  onClose,\r\n  title,\r\n  isOpen,\r\n  children\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"lightbox\">\r\n      <div className=\"lightbox-inner\">\r\n        <Header\r\n          title={title}\r\n        >\r\n          <button \r\n            className=\"btn btn-icon-small\"\r\n            name=\"exit\"\r\n            onClick={onClose}\r\n          >\r\n            <FontAwesomeIcon icon={faTimes} />&nbsp;Close\r\n          </button>\r\n        </Header>\r\n        <div className=\"content\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Lightbox;","import React, { useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faShare, faClone } from '@fortawesome/free-solid-svg-icons';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Lightbox from './new/Lightbox';\r\n\r\nconst SelectableDeck = ({\r\n  title,\r\n  toggleDeck,\r\n  id,\r\n  isPrivate,\r\n  selectedDecks,\r\n  setSelectedDecks,\r\n  length,\r\n  setDeckToEdit\r\n}) => {\r\n  const history = useHistory();\r\n  const [shareIsOpen, setShareIsOpen] = useState(false);\r\n\r\n  return (\r\n    <li \r\n      className={selectedDecks.includes(id) ? \"selected\" : \"\"}\r\n      onClick={(event) => toggleDeck(event, id)}\r\n    >\r\n      <div>\r\n        <input\r\n            name={id}\r\n            type=\"checkbox\"\r\n            checked={selectedDecks.includes(id)}\r\n            onChange={(event) => {\r\n              console.log(event.target);\r\n              toggleDeck(event, id)\r\n            }}\r\n          />\r\n          <label htmlFor=\"checkbox\" className=\"truncate\">\r\n            <span></span>\r\n            <strong >{title}</strong> ({length} {length === 1 ? \"card\" : \"cards\"})\r\n          </label>\r\n      </div>\r\n      <div className=\"button-row\">\r\n        <button \r\n          className=\"btn btn-icon\"\r\n          onClick={event => {\r\n            event.stopPropagation();\r\n            setDeckToEdit();\r\n            setSelectedDecks([id]);\r\n            history.push(\"/app/edit\");\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faEdit} /> Edit & add cards\r\n        </button>\r\n        \r\n        <button \r\n          className=\"btn btn-icon\"\r\n          name=\"share-deck\"\r\n          value={id}\r\n          onClick={event => {\r\n            event.stopPropagation();\r\n            setShareIsOpen(prev => !prev);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faShare} /> Share\r\n        </button>\r\n        \r\n      </div>\r\n\r\n      <Lightbox \r\n        title=\"Share deck\"\r\n        isOpen={shareIsOpen}\r\n        onClose={() => setShareIsOpen(false)}\r\n      >\r\n        {isPrivate ? \r\n          <p className=\"warning\">This deck is <b>private</b>. Update the deck to be <b>public</b> in order to share it with others.</p>\r\n          :\r\n          <>\r\n            <p>Public link: <b><span className=\"wrap\">https://aviolin.github.io/flash-cards/#/app/d/{id}</span></b></p><br/>\r\n            <button \r\n              className=\"btn btn-share\"\r\n              onClick={() => {\r\n                const copyText = \"https://aviolin.github.io/flash-cards/#/app/d/\" + id;\r\n                navigator.clipboard.writeText(copyText);\r\n              }}\r\n            >\r\n              <div><FontAwesomeIcon icon={faClone} /> Copy to clipboard</div>\r\n            </button>\r\n          </>\r\n        }\r\n      </Lightbox>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default SelectableDeck;","import React, { useState, useEffect } from 'react';\r\nimport SelectableDeck from './SelectableDeck';\r\n\r\nconst DeckList = ({\r\n  decks,\r\n  selectedDecks,\r\n  setSelectedDecks,\r\n  handleButtons,\r\n  setDeckToEdit,\r\n}) => {\r\n  const [deckList, setDeckList] = useState([]);\r\n\r\n  const toggleDeck = (event, deckId) => {\r\n    setSelectedDecks(decks => {\r\n      if (decks.includes(deckId)) {\r\n        return decks.filter(ele => ele !== deckId)\r\n      } else {\r\n        return [...decks, deckId];\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setDeckList(decks.map(deck => {\r\n        return (\r\n          <SelectableDeck \r\n            key={deck.id}\r\n            title={deck.title}\r\n            toggleDeck={toggleDeck}\r\n            id={deck.id}\r\n            isPrivate={deck.private}\r\n            selectedDecks={selectedDecks}\r\n            handleButtons={handleButtons}\r\n            length={deck.numCards}\r\n            setSelectedDecks={setSelectedDecks}\r\n            setDeckToEdit={() => {\r\n              setDeckToEdit({ id: deck.id, title: deck.title, private: deck.private });\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    ))\r\n  }, [decks, selectedDecks, handleButtons])\r\n\r\n  return (\r\n    <section className=\"deck-list\">\r\n      <p>Your decks:</p>\r\n      <ul>\r\n        {deckList.length > 0 ? \r\n          deckList\r\n        :\r\n          <p>You have no decks. Create one to start!</p>\r\n        }\r\n      </ul>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default DeckList;","import React, { useState, useEffect, useContext } from 'react';\r\nimport DeckCreator from './DeckCreator';\r\nimport DeckEditor from './new/DeckEditor';\r\nimport DeckList from './DeckList';\r\nimport Button from './Button';\r\nimport PageHeading from './new/PageHeading';\r\nimport Breadcrumb from './new/Breadcrumb';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faRandom, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { Link, Switch, Route } from 'react-router-dom';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\n\r\nconst Dashboard = ({\r\n  onClick,\r\n  decks,\r\n  cards,\r\n  selectedDecks,\r\n  setSelectedDecks,\r\n  handleButtons,\r\n}) => {\r\n  const [deckToEdit, setDeckToEdit] = useState(null);\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"dashboard\">\r\n        <p>You are not logged in. To view your dashboard, log in or sign up here:</p>\r\n        <Link to=\"/\">Home</Link>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <Switch>\r\n        <Route path=\"/app/edit\">\r\n          <DeckEditor \r\n            selectedDecks={selectedDecks}\r\n            setSelectedDecks={setSelectedDecks}\r\n            deckToEdit={deckToEdit}\r\n            setDeckToEdit={setDeckToEdit}\r\n            cards={cards}\r\n          />\r\n        </Route>\r\n        <Route path=\"/app/create\">\r\n          <Breadcrumb\r\n            to=\"/app\"\r\n            name=\"Dashboard\"\r\n          />\r\n          <PageHeading \r\n            title=\"New Deck!\"\r\n            subtitle=\"Create a new deck of flash cards. You can always come back and edit it at any time!\"\r\n          />\r\n          <DeckCreator />\r\n        </Route>\r\n        <Route path=\"/app\">\r\n          <Breadcrumb\r\n            to=\"/\"\r\n            name=\"Home\"\r\n          />\r\n          <PageHeading \r\n            title=\"Dashboard.\"\r\n            subtitle=\"Create and edit all your personal decks here.\"\r\n          />\r\n          <div>\r\n            <Link \r\n              to=\"/app/create\" \r\n              className=\"btn btn-tertiary highlighted\"\r\n            >\r\n              Create a new deck\r\n              <FontAwesomeIcon icon={faPlus} />\r\n            </Link>\r\n            <DeckList\r\n              decks={decks}\r\n              selectedDecks={selectedDecks}\r\n              setSelectedDecks={setSelectedDecks}\r\n              handleButtons={handleButtons}\r\n              setDeckToEdit={setDeckToEdit}\r\n            />\r\n          </div>\r\n          <Button\r\n            type=\"shuffle\"\r\n            classes=\"btn-primary\"\r\n            onClick={onClick}\r\n            disabled={cards.length === 0 ? true : false}\r\n            view={<><FontAwesomeIcon icon={faRandom} /> Shuffle!</>}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  ) \r\n} \r\n\r\nexport default Dashboard;","export default __webpack_public_path__ + \"static/media/hero.34e6cd07.jpg\";","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { firebaseAuth } from '../../provider/AuthProvider';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport heroImage from '../../images/hero.jpg';\r\n\r\nconst Landing = () => {\r\n  const { user } = useContext(firebaseAuth);\r\n  return (\r\n    <>\r\n      <header className=\"hero\">\r\n        <img src={heroImage} />\r\n        <h1>Easily create, study and share flashcards.</h1>\r\n      </header>\r\n      <div className=\"buttons\">\r\n      {user ? \r\n        <>\r\n          <Link\r\n            className=\"btn\"\r\n            to=\"/app\"\r\n          >\r\n            Dashboard\r\n          </Link>\r\n          <Link\r\n            className=\"btn btn-secondary\"\r\n            to=\"/my-account\"\r\n          >\r\n            My Account\r\n          </Link>\r\n        </>\r\n      :\r\n        <>\r\n          <Link\r\n            className=\"btn\"\r\n            to=\"/sign-up\"\r\n          >\r\n            Sign up\r\n          </Link>\r\n          <Link\r\n            className=\"btn btn-secondary\"\r\n            to=\"/log-in\"\r\n          >\r\n            Log In\r\n          </Link>\r\n        </>\r\n      }\r\n      </div>\r\n\r\n      <section className=\"public-decks\">\r\n        <h2>No account? No problem!</h2><p>Check out some of our public flash cards:</p>\r\n        <Link to=\"/app/d/WOJrC5Mp87qzKcka2haX\" className=\"btn btn-tertiary\">\r\n          <span>Classical Music Composers</span> <FontAwesomeIcon icon={faAngleRight} />\r\n        </Link>\r\n        <Link to=\"/app/d/cYddMteaU6ZSYhyq5AHg\" className=\"btn btn-tertiary\">\r\n          <span>Star Trek Facts & Trivia</span> <FontAwesomeIcon icon={faAngleRight} />\r\n        </Link>\r\n        <Link to=\"/app/d/Fd73VQwvnOoNHFrqQHW2\" className=\"btn btn-tertiary\">\r\n          <span>Miscellaneous Trivia</span> <FontAwesomeIcon icon={faAngleRight} />\r\n        </Link>\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Landing;","import { useState, useEffect, useContext } from 'react';\r\nimport { auth, db, fb } from '../firebase/firebaseIndex';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\n\r\nconst useAuth = (email = null, password = null, newPassword = null) => {\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  const [userData, setUserData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(\"pending\");\r\n\r\n  const [login, setLogin] = useState(0);\r\n  const [signup, setSignup] = useState(0);\r\n  const [logout, setLogout] = useState(0);\r\n  const [changeEmail, setChangeEmail] = useState(0);\r\n  const [changePassword, setChangePassword] = useState(0);\r\n  const [deleteAccount, setDeleteAccount] = useState(0);\r\n\r\n  // Logging user in\r\n  useEffect(() => {\r\n    if (login === 0 || user != null) return;\r\n    setError(null);\r\n    setStatus(\"loading\");\r\n\r\n    auth.signInWithEmailAndPassword(email, password)\r\n    .then((userCredential) => {\r\n      let _user = userCredential.user;\r\n      console.log(\"Logged in: \", _user)\r\n      setUserData(_user);\r\n      setStatus(\"success\");\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error logging user in: \", error.message);\r\n      setError(error);\r\n      setStatus(\"error\");\r\n    })\r\n\r\n  }, [login]);\r\n\r\n  // Signing user up\r\n  useEffect(() => {\r\n    if (signup === 0 || user != null) return;\r\n    setError(null);\r\n    setStatus(\"loading\");\r\n\r\n    auth.createUserWithEmailAndPassword(email, password)\r\n      .then((userCredential) => {\r\n        let _user = userCredential.user;\r\n        db.collection('users').doc(_user.uid).set({\r\n          decks: []\r\n        });\r\n        setUserData(_user);\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error signing user in: \", error.message);\r\n        setError(error);\r\n        setStatus(\"error\");\r\n      })\r\n\r\n  }, [signup]);\r\n\r\n  // Logging user out\r\n  useEffect(() => {\r\n    if (logout === 0 || user === null) return;\r\n    setError(null);\r\n    setStatus(\"loading\");\r\n\r\n    auth.signOut()\r\n    .then(() => {\r\n      console.log(\"Logged out\");\r\n      setUserData(null);\r\n      setStatus(\"success\");\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error logging user out: \", error.message);\r\n      setError(error.code);\r\n      setStatus(\"error\");\r\n    })\r\n\r\n  }, [logout]);\r\n\r\n  // Changing user email\r\n  useEffect(() => {\r\n    if (changeEmail === 0 || user === null) return;\r\n    setError(null);\r\n    setStatus(\"loading\")\r\n\r\n    const credential = fb.auth.EmailAuthProvider.credential(\r\n      auth.currentUser.email, \r\n      password,\r\n    );\r\n    auth.currentUser.reauthenticateWithCredential(credential).then(function() {\r\n      console.log(\"User successfully reauthenticated.\");\r\n      auth.currentUser.updateEmail(email)\r\n      .then(() => {\r\n        console.log(\"Successfully updated email.\")\r\n        setStatus(\"success\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"An error occurred updating the email: \", error.message);\r\n        setError(error.code);\r\n        setStatus(\"error\");\r\n      });\r\n    }).catch((error) => {\r\n      console.log(\"An error occurred reauthenticating the user: \", error.message);\r\n      setError(error.code);\r\n      setStatus(\"error\");\r\n    })\r\n\r\n  }, [changeEmail]);\r\n\r\n  // Changing password\r\n  useEffect(() => {\r\n    if (changePassword === 0 || user === null) return;\r\n    setError(null);\r\n    setStatus(\"loading\");\r\n\r\n    const credential = fb.auth.EmailAuthProvider.credential(\r\n      auth.currentUser.email, \r\n      password,\r\n    );\r\n    auth.currentUser.reauthenticateWithCredential(credential).then(function() {\r\n      console.log(\"User successfully reauthenticated.\");\r\n      auth.currentUser.updatePassword(newPassword).then(function() {\r\n        console.log(\"Successfully updated password.\");\r\n        setStatus(\"success\");\r\n      }).catch((error) => {\r\n        console.log(\"An error occurred updating the password: \", error.message);\r\n        setError(error.code);\r\n        setStatus(\"error\");\r\n      });\r\n    }).catch((error) => {\r\n      console.log(\"An error occurred reauthenticating the user: \", error.message);\r\n      setError(error.code);\r\n      setStatus(\"error\");\r\n    })\r\n\r\n  }, [changePassword])\r\n\r\n  // Delete account\r\n  useEffect(() => {\r\n    if (deleteAccount === 0 || user === null) return;\r\n    setError(null);\r\n    setStatus(\"loading\");\r\n\r\n    const credential = fb.auth.EmailAuthProvider.credential(\r\n      auth.currentUser.email, \r\n      password,\r\n    );\r\n\r\n    auth.currentUser.reauthenticateWithCredential(credential).then(function() {\r\n      console.log(\"User successfully reauthenticated.\");\r\n      auth.currentUser.delete().then(() => {\r\n        console.log(\"User successfully deleted.\");\r\n        setStatus(\"success\");\r\n      }).catch((error) => {\r\n        console.log(\"An error occurred deleting the user: \", error.message);\r\n        setError(error.code);\r\n        setStatus(\"error\");\r\n      })\r\n    }).catch((error) => {\r\n      console.log(\"An error occurred reauthenticating the user: \", error.message);\r\n      setError(error.code);\r\n      setStatus(\"error\");\r\n    });\r\n\r\n  }, [deleteAccount])\r\n\r\n\r\n  const handleLogin = () => setLogin(prev => prev + 1);\r\n  const handleSignup = () => setSignup(prev => prev + 1);\r\n  const handleLogout = () => setLogout(prev => prev + 1);\r\n  const handleChangeEmail = () => setChangeEmail(prev => prev + 1);\r\n  const handleChangePassword = () => setChangePassword(prev => prev + 1);\r\n  const handleDeleteAccount = () => setDeleteAccount(prev => prev + 1);\r\n\r\n  return { \r\n    userData, \r\n    error, \r\n    status,\r\n    handleLogin, \r\n    handleSignup, \r\n    handleLogout,\r\n    handleChangeEmail,\r\n    handleChangePassword,\r\n    handleDeleteAccount,\r\n  };\r\n}\r\n\r\nexport default useAuth;","import React, { useState, useContext, useEffect } from 'react';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport useAuth from '../hooks/useAuth';\r\n\r\nimport PageHeading from '../components/new/PageHeading';\r\nimport TextInput from '../components/TextInput';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelope, faLock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Login = () => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const history = useHistory();\r\n  const [inputs, setInputs] = useState({ email: \"\", password: \"\" });\r\n\r\n  const { userData, status, error, handleLogin} = useAuth(inputs.email, inputs.password);\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleLogin();\r\n  }\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setInputs(prev => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(\"/app\");\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (error === null) {\r\n      setErrorMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    switch (error.code) {\r\n      case null:\r\n        return;\r\n      case \"auth/user-not-found\":\r\n        setErrorMessage(\"The email and password do not match.\");\r\n        return;\r\n      case \"auth/wrong-password\":\r\n        setErrorMessage(\"The email and password do not match.\");\r\n        return;\r\n      case \"auth/invalid-email\":\r\n        setErrorMessage(\"Please enter a valid email address.\");\r\n        return;\r\n      default:\r\n        setErrorMessage(\"Something went wrong. Please try again.\");\r\n        return;\r\n    }\r\n\r\n  }, [error]);\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <PageHeading \r\n        title=\"Hey there!\"\r\n        subtitle=\"Log in with your credentials.\"\r\n      />\r\n      <form onSubmit={handleSubmit}>\r\n        <TextInput \r\n          labelText=\"Email\"\r\n          icon={<FontAwesomeIcon icon={faEnvelope} />}\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n          placeholder=\"youremail@example.com\"\r\n        />\r\n        <TextInput \r\n          labelText=\"Password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        {errorMessage === \"\" ? null :\r\n          <p className=\"error\">{errorMessage}</p> \r\n        }\r\n        <button \r\n          className=\"btn btn-primary\"\r\n          disabled={inputs.password === \"\" || inputs.email === \"\"}        \r\n        >\r\n          {status === \"loading\" ? \"Loading . . . \" : status === \"success\" ? \"Success!\" : \"Go!\"}\r\n        </button>\r\n      </form>\r\n      <p>Forgot your credentials? <Link to=\"/reset-password\">Reset your password</Link>.</p>\r\n      \r\n      <p>No account? <Link to=\"/sign-up\">Sign up</Link>.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Spinner = ({\r\n  size=\"1x\"\r\n}) => {\r\n  return <FontAwesomeIcon icon={faSpinner} size={size} className=\"spinner\"/>\r\n}\r\n\r\nexport default Spinner;","import React, { useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\nimport Spinner from './Spinner';\r\n\r\nimport useAuth from '../hooks/useAuth';\r\n\r\nconst Logout = () => {\r\n  const { user } = useContext(firebaseAuth);\r\n  const { handleLogout } = useAuth()\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    handleLogout();\r\n    setTimeout(() => history.push(\"/\"), 1000);\r\n\r\n  }, [user])\r\n\r\n  return (\r\n    <div className=\"container center\">\r\n      <p><Spinner /> Logging out . . .</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Logout;","import React, { useState, useEffect } from 'react';\r\nimport Breadcrumb from './Breadcrumb';\r\nimport PageHeading from './PageHeading';\r\nimport TextInput from '../TextInput';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLock, faEnvelope } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst UpdateEmail = ({\r\n  handleChange,\r\n  inputs,\r\n  onSubmit,\r\n  error,\r\n  loading,\r\n  success,\r\n  status\r\n}) => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (error === null) {\r\n      setErrorMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    switch (error.code) {\r\n      case null:\r\n        return;\r\n      case \"auth/wrong-password\":\r\n        setErrorMessage(\"Incorrect password.\");\r\n        return;\r\n      default:\r\n        setErrorMessage(\"Something went wrong. Please try again.\");\r\n        return;\r\n    }\r\n\r\n  }, [error]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Stauts: \", status);\r\n  }, [status])\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb \r\n        to=\"/my-account\"\r\n        name=\"My account\"\r\n      />\r\n      <PageHeading\r\n        title=\"Update email.\"\r\n        subtitle=\"Please enter your current password, and then an updated email address.\"\r\n      />\r\n      <form onSubmit={(event) => {\r\n        event.preventDefault();\r\n        onSubmit();\r\n      }}>\r\n        <TextInput \r\n          labelText=\"Current password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        <TextInput \r\n          labelText=\"Email\"\r\n          icon={<FontAwesomeIcon icon={faEnvelope} />}\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n          placeholder=\"newemail@example.com\"\r\n        />\r\n        {errorMessage === \"\" ? null :\r\n          <p className=\"error\">{errorMessage}</p> \r\n        }\r\n        <button className=\"btn btn-primary\">\r\n          {status === \"loading\" ? \"Loading . . . \" : status === \"success\" ? \"Success!\" : \"Update Email\"}\r\n        </button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateEmail;","import React, { useState, useEffect } from 'react';\r\nimport Breadcrumb from './Breadcrumb';\r\nimport PageHeading from './PageHeading';\r\nimport TextInput from '../TextInput';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst ChangePassword = ({\r\n  handleChange,\r\n  inputs,\r\n  error,\r\n  onSubmit,\r\n  status\r\n}) => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (error === null) {\r\n      setErrorMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    switch (error) {\r\n      case null:\r\n        return;\r\n      case \"auth/wrong-password\":\r\n        setErrorMessage(\"Incorrect password.\");\r\n        return;\r\n      default:\r\n        setErrorMessage(\"Something went wrong. Please try again.\");\r\n        return;\r\n    }\r\n\r\n  }, [error]);\r\n  \r\n  return (\r\n    <>\r\n      <Breadcrumb \r\n        to=\"/my-account\"\r\n        name=\"My account\"\r\n      />\r\n      <PageHeading\r\n        title=\"Change password.\"\r\n        subtitle=\"Please enter your current password, and then a new password.\"\r\n      />\r\n      <form onSubmit={(event) => {\r\n        event.preventDefault();\r\n        onSubmit();\r\n      }}>\r\n        <TextInput \r\n          labelText=\"Current password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        <TextInput \r\n          labelText=\"New password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"new-password\"\r\n          name=\"newPassword\"\r\n          value={inputs.newPassword}\r\n          onChange={handleChange}\r\n        />\r\n        {errorMessage === \"\" ? null :\r\n          <p className=\"error\">{errorMessage}</p> \r\n        }\r\n        <button className=\"btn btn-primary\">\r\n          {status === \"loading\" ? \"Loading . . . \" : status === \"success\" ? \"Success!\" : \"Change Password\"}\r\n        </button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ChangePassword;","import React, { useState, useEffect } from 'react';\r\nimport Breadcrumb from './Breadcrumb';\r\nimport PageHeading from './PageHeading';\r\nimport TextInput from '../TextInput';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst DeleteAccount = ({\r\n  handleChange,\r\n  inputs,\r\n  error,\r\n  onSubmit\r\n}) => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    switch (error) {\r\n      case null:\r\n        return;\r\n      case \"auth/wrong-password\":\r\n        setErrorMessage(\"Incorrect password.\");\r\n        return;\r\n      default:\r\n        setErrorMessage(\"Something went wrong. Please try again.\");\r\n        return;\r\n    }\r\n\r\n  }, [error]);\r\n  \r\n  return (\r\n    <>\r\n      <Breadcrumb \r\n        to=\"/my-account\"\r\n        name=\"My account\"\r\n      />\r\n      <PageHeading\r\n        title=\"Delete account.\"\r\n        subtitle=\"Please confirm your current password.\"\r\n      />\r\n      <form onSubmit={(event) => {\r\n        event.preventDefault();\r\n        onSubmit();\r\n      }}>\r\n        <TextInput \r\n          labelText=\"Current password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        {errorMessage === \"\" ? null :\r\n          <p className=\"error\">{errorMessage}</p> \r\n        }\r\n        <button className=\"btn btn-warning\">Permanently Delete Account</button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DeleteAccount;","import React, { useState, useContext } from 'react';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\nimport { Link, Switch, Route } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleRight, faSignOutAlt, faLock, faEnvelope, faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport PageHeading from './new/PageHeading';\r\nimport Breadcrumb from './new/Breadcrumb';\r\nimport UpdateEmail from './new/UpdateEmail';\r\nimport ChangePassword from './new/ChangePassword';\r\nimport DeleteAccount from './new/DeleteAccount';\r\n\r\nimport useAuth from '../hooks/useAuth';\r\n\r\nconst MyAccount = () => {\r\n  const [inputs, setInputs] = useState({ email: \"\", password: \"\", newPassword: \"\" });\r\n\r\n  const { \r\n    loading, \r\n    error, \r\n    status, \r\n    handleChangeEmail, \r\n    handleChangePassword, \r\n    handleDeleteAccount \r\n  } = useAuth(inputs.email, inputs.password, inputs.newPassword);\r\n\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setInputs(prev => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"dashboard\">\r\n        <p>You are not logged in. To view your dashboard, log in or sign up here:</p>\r\n        <Link to=\"/\">Home</Link>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"landing\">\r\n      <Switch>\r\n        <Route exact path=\"/my-account\">\r\n          <Breadcrumb\r\n            to=\"/\"\r\n            name=\"Home\"\r\n          />\r\n          <PageHeading\r\n            title=\"Your account.\"\r\n            subtitle=\"Update your email and password or delete your account.\"\r\n          />\r\n          <div className=\"account-data\">\r\n            <p><FontAwesomeIcon icon={faEnvelope} />&nbsp;&nbsp;&nbsp;{user.email} </p>\r\n              <Link to=\"/my-account/change-email\" className=\"btn btn-tertiary\">\r\n                <span>Update your email</span><FontAwesomeIcon icon={faAngleRight} />\r\n              </Link>\r\n          </div>\r\n          <div className=\"account-data\">\r\n          <p><FontAwesomeIcon icon={faLock} />&nbsp;&nbsp;&nbsp;******************** </p>\r\n            <Link to=\"/my-account/change-password\" className=\"btn btn-tertiary\">\r\n              <span>Change your password</span><FontAwesomeIcon icon={faAngleRight} />\r\n            </Link>\r\n          \r\n          </div>\r\n          <div className=\"account-data\">\r\n            <Link to=\"/log-out\" className=\"btn btn-tertiary\">\r\n              <span>Log out</span><FontAwesomeIcon icon={faSignOutAlt} />\r\n            </Link>\r\n          </div>\r\n          <div className=\"account-data\">\r\n            <Link to=\"/my-account/delete-account\" className=\"btn btn-warning-small\">\r\n              <FontAwesomeIcon icon={faTrash} />&nbsp;&nbsp;&nbsp;Delete Account\r\n            </Link>\r\n          </div>\r\n        </Route>\r\n        <Route exact path=\"/my-account/change-email\">\r\n          <UpdateEmail \r\n            handleChange={handleChange}\r\n            inputs={inputs}\r\n            loading={loading}\r\n            onSubmit={handleChangeEmail}\r\n            error={error}\r\n            status={status}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/my-account/change-password\">\r\n          <ChangePassword \r\n            handleChange={handleChange}\r\n            loading={loading}\r\n            inputs={inputs}\r\n            onSubmit={handleChangePassword}\r\n            error={error}\r\n            status={status}\r\n          />\r\n        </Route>\r\n        <Route exact path=\"/my-account/delete-account\">\r\n          <DeleteAccount \r\n            handleChange={handleChange}\r\n            inputs={inputs}\r\n            onSubmit={handleDeleteAccount}\r\n            error={error}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default MyAccount;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUserCircle, faSignOutAlt, faSignInAlt, faTable, faUserPlus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Navlinks = ({\r\n  closeMenu\r\n}) => {\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  return (\r\n    <ul>\r\n      {user ? \r\n      <>\r\n        <li>\r\n          <Link to=\"/app\" className=\"link\" onClick={() => closeMenu()}>\r\n            <FontAwesomeIcon icon={faTable} />&nbsp;&nbsp;&nbsp;Dashboard\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/my-account\" className=\"link\" onClick={() => closeMenu()}>\r\n            <FontAwesomeIcon icon={faUserCircle} />&nbsp;&nbsp;&nbsp;My account\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/log-out\" className=\"link\" onClick={() => closeMenu()}>\r\n            <FontAwesomeIcon icon={faSignOutAlt} />&nbsp;&nbsp;&nbsp;Log out\r\n          </Link>\r\n        </li>\r\n      </>\r\n      :\r\n      <>\r\n        <li>\r\n          <Link to=\"/sign-up\" className=\"link\" onClick={() => closeMenu()}>\r\n            <FontAwesomeIcon icon={faUserPlus} />&nbsp;&nbsp;&nbsp;Sign up\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/log-in\" className=\"link\" onClick={() => closeMenu()}>\r\n            <FontAwesomeIcon icon={faSignInAlt} />&nbsp;&nbsp;&nbsp;Log in\r\n          </Link>\r\n        </li>\r\n      </>\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Navlinks;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\nimport Navlinks from './Navlinks';\r\n\r\nconst Nav = (props) => {\r\n  return (\r\n    <header className=\"navbar\">\r\n      <div className=\"navbar-inner\">\r\n        <Link to=\"/\" className=\"logo\">\r\n          Flash Cards\r\n        </Link>\r\n        <button \r\n          className=\"btn btn-icon small-screen-only\"\r\n          name=\"toggle-menu\"\r\n          onClick={props.onClick}\r\n        >\r\n          <FontAwesomeIcon icon={faBars} size=\"2x\" />\r\n        </button>\r\n        <nav className=\"large-screen-only\">\r\n          <Navlinks closeMenu={() => null}/>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Nav;","import React, { useState, useContext, useEffect } from 'react';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport PageHeading from '../components/new/PageHeading';\r\nimport TextInput from '../components/TextInput';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelope, faBars } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport useAuth from '../hooks/useAuth';\r\n\r\nconst Signup = () => {\r\n  const [tos, setTos] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [inputs, setInputs] = useState({ email: \"\", password: \"\" });\r\n  const history = useHistory();\r\n\r\n  const { userData, status, error, handleSignup} = useAuth(inputs.email, inputs.password);\r\n  const { user } = useContext(firebaseAuth);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleSignup();\r\n  }\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setInputs(prev => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(\"/app\");\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (error === null) {\r\n      setErrorMessage(\"\");\r\n      return;\r\n    }\r\n\r\n    switch (error.code) {\r\n      case null:\r\n        return;\r\n      case \"auth/weak-password\":\r\n        setErrorMessage(\"Your password must be at least 6 characters long\");\r\n        return;\r\n      case \"auth/email-already-in-use\":\r\n        setErrorMessage(\"This email is already registered.\");\r\n        return;\r\n      case \"auth/invalid-email\":\r\n        setErrorMessage(\"Please enter a valid email address.\");\r\n        return;\r\n      default:\r\n        setErrorMessage(\"Something went wrong. Please try again.\");\r\n        return;\r\n    }\r\n\r\n  }, [error])\r\n\r\n  return (\r\n    <>\r\n      <PageHeading \r\n        title=\"Welcome!\"\r\n        subtitle=\"Create an account.\"\r\n      />\r\n      <form onSubmit={handleSubmit}>\r\n\r\n        <TextInput \r\n          labelText=\"Email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"youremail@example.com\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n          icon={<FontAwesomeIcon icon={faEnvelope} />}\r\n        />\r\n        <TextInput \r\n          labelText=\"Password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <div className=\"form-row\">\r\n          <input\r\n            id=\"tos\"\r\n            name=\"tos\"\r\n            type=\"checkbox\"\r\n            checked={tos ? true : false}\r\n            onChange={() => setTos(!tos)}\r\n          />\r\n          <label htmlFor=\"tos\">\r\n            <span></span>\r\n            I agree to the <Link to=\"/tos\">Terms of Service</Link>.\r\n          </label>\r\n        </div>\r\n        {errorMessage === \"\" ? null :\r\n          <p className=\"error\">{errorMessage}</p> \r\n        }\r\n        <button \r\n          className=\"btn btn-primary\"\r\n          disabled={!tos || inputs.password === \"\" || inputs.email === \"\"}\r\n        >\r\n          {status === \"loading\" ? \"Loading . . . \" : status === \"success\" ? \"Success!\" : \"Sign Up\"}\r\n        </button>\r\n        \r\n      </form>\r\n      <p>Already have an account? <Link to=\"/log-in\">Log in here</Link>.</p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Signup;","import React, { useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { firebaseAuth } from '../provider/AuthProvider';\r\n\r\nimport Navlinks from './Navlinks';\r\n\r\nconst MobileMenu = ({\r\n  isOpen,\r\n  setIsOpen\r\n}) => {\r\n  const { user } = useContext(firebaseAuth);\r\n  const history = useHistory();\r\n\r\n  const closeMenu = (event) => {\r\n    setIsOpen(false);\r\n  }\r\n\r\n  return (\r\n    <div className={isOpen ? \"mobile-menu open\" : \"mobile-menu\"}>\r\n      <Navlinks closeMenu={closeMenu} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MobileMenu;","import React, { useState, useEffect } from 'react';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nimport PageHeading from './PageHeading';\r\nimport TextInput from '../TextInput';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelope, faLock } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Test = () => {\r\n  const [inputs, setInputs] = useState({ email: \"\", password: \"\", newPassword: \"\" })\r\n  const { userData, loading, error, handleSignup, handleLogin, handleLogout, handleChangeEmail, handleChangePassword } = useAuth(inputs.email, inputs.password, inputs.newPassword);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleSignup();\r\n    console.log(\"Signed up!\");\r\n  }\r\n\r\n  const hLogin = (e) => {\r\n    e.preventDefault();\r\n    handleLogin();\r\n    console.log(\"Signed in!\")\r\n  }\r\n\r\n  const hLogout = (e) => {\r\n    e.preventDefault();\r\n    handleLogout();\r\n    console.log(\"Signed out!\")\r\n  }\r\n\r\n  const hChangeEmail = (e) => {\r\n    e.preventDefault();\r\n    handleChangeEmail();\r\n    console.log(\"Changed email!\")\r\n  }\r\n\r\n  const hChangePass = (e) => {\r\n    e.preventDefault();\r\n    handleChangePassword();\r\n    console.log(\"Changed pass!\")\r\n  }\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setInputs(prev => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(\"Loading: \", loading);\r\n  }, [loading])\r\n\r\n  useEffect(() => {\r\n    console.log(\"Error: \", error);\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    console.log(\"Userdata: \", userData);\r\n  }, [userData])\r\n\r\n  return (\r\n    <main>\r\n    <div className=\"login\">\r\n      <PageHeading \r\n        title=\"TEST\"\r\n        subtitle=\"Log in with your credentials.\"\r\n      />\r\n      <form onSubmit={handleSubmit}>\r\n        <TextInput \r\n          labelText=\"Email\"\r\n          icon={<FontAwesomeIcon icon={faEnvelope} />}\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n          placeholder=\"youremail@example.com\"\r\n        />\r\n        <TextInput \r\n          labelText=\"Password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        <TextInput \r\n          labelText=\"New password\"\r\n          icon={<FontAwesomeIcon icon={faLock} />}\r\n          type=\"password\"\r\n          id=\"new-password\"\r\n          name=\"newPassword\"\r\n          value={inputs.newPassword}\r\n          onChange={handleChange}\r\n        />\r\n        {error === null ? null : <p>{error.message}</p>}\r\n        <button \r\n          className=\"btn btn-primary\"\r\n        >\r\n          {loading === false ? \"Sign up\" : \"Loading\" }\r\n        </button>\r\n      </form>\r\n      <button className=\"btn btn-primary\"\r\n        onClick={hLogin}\r\n      >\r\n        Log in\r\n      </button>\r\n      <button className=\"btn btn-primary\"\r\n        onClick={hLogout}\r\n      >\r\n        Log out\r\n      </button>\r\n      <button className=\"btn btn-primary\"\r\n        onClick={hChangeEmail}\r\n      >\r\n        Change Email\r\n      </button>\r\n      <button className=\"btn btn-primary\"\r\n        onClick={hChangePass}\r\n      >\r\n        Change Password\r\n      </button>\r\n    </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Test;","import React, { useState, useEffect } from 'react';\r\nimport Breadcrumb from './Breadcrumb';\r\nimport PageHeading from './PageHeading';\r\nimport TextInput from '../TextInput';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { auth } from '../../firebase/firebaseIndex';\r\n\r\nconst ResetPassword = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    auth.sendPasswordResetEmail(email).then(() => {\r\n      console.log(\"Password reset email sent\");\r\n      setSuccess(true);\r\n    })\r\n    .catch(error => {\r\n      console.log(error.message);\r\n    })\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <Breadcrumb \r\n        to=\"/log-in\"\r\n        name=\"Log in\"\r\n      />\r\n      <PageHeading\r\n        title=\"Reset password.\"\r\n        subtitle=\"Please enter the email address you signed up with.\"\r\n      />\r\n      <form onSubmit={onSubmit}>\r\n        <TextInput \r\n          labelText=\"Email\"\r\n          icon={<FontAwesomeIcon icon={faEnvelope} />}\r\n          id=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n          placeholder=\"youremail@example.com\"\r\n        />\r\n        <button className=\"btn btn-primary\">\r\n          {success ? \"Password reset email sent!\" : \"Reset Password\"}\r\n        </button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResetPassword;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGithub } from '@fortawesome/free-brands-svg-icons';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <a href=\"https://github.com/aviolin/flash-cards/\"><FontAwesomeIcon icon={faGithub} /> View the source on GitHub.</a>\r\n      <p>&copy; Copyright 2021 Arlo Adams.</p>\r\n    </footer>\r\n  )  \r\n}\r\n\r\nexport default Footer;","import React, { useContext, useEffect, useState } from 'react';\r\n\r\nimport { firebaseAuth } from './provider/AuthProvider';\r\nimport useOnUserSnapshot from './hooks/useOnUserSnapshot';\r\nimport useGetShuffledCards from './hooks/useGetShuffledCards';\r\n\r\nimport Deck from './components/Deck';\r\nimport Dashboard from './components/Dashboard';\r\nimport Landing from './components/new/Landing';\r\nimport Login from './components/Login';\r\nimport Logout from './components/Logout';\r\nimport MyAccount from './components/MyAccount';\r\nimport Nav from './components/Nav';\r\nimport Signup from './components/Signup';\r\nimport MobileMenu from './components/MobileMenu';\r\nimport Test from './components/new/Test';\r\nimport ResetPassword from './components/new/ResetPassword';\r\nimport Footer from './components/new/Footer';\r\n\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\n\r\nfunction fisherYatesShuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n    // And swap it with the current element.\r\n    temporaryValue = Object.assign({}, array[currentIndex]);\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n  return array;\r\n}\r\n\r\nconst App = () => {\r\n  const [selectedDecks, setSelectedDecks] = useState([]);\r\n  const [curSelectedDeck, setCurSelectedDeck] = useState(\"\");\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [shuffledCards, setShuffledCards] = useState([]);\r\n\r\n  const [isEditingCard, setIsEditingCard] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const { user } = useContext(firebaseAuth);\r\n  const { userData, decks } = useOnUserSnapshot(user);\r\n  const { cards } = useGetShuffledCards(user, selectedDecks);\r\n\r\n  // not ideal :(\r\n  useEffect(() => {\r\n    // Manually updated the 'shuffledCards' array whenever 'cards'\r\n    // is updated via onSnapshot in firestore.\r\n    let _cards = [];\r\n    shuffledCards.forEach(card => {\r\n      cards.forEach((updatedCard) => {\r\n        if (updatedCard.id == card.id) {\r\n          _cards.push(Object.assign({}, updatedCard)); \r\n        }\r\n      })\r\n    })\r\n\r\n    setShuffledCards(_cards);\r\n  }, [cards])\r\n\r\n  const handleButtons = (event) => {\r\n    console.log(\"Button clicked: \", event.target.name);\r\n\r\n    switch (event.target.name) {\r\n      case \"cancel\":\r\n        setIsEditingCard(false);\r\n        return;\r\n\r\n      case \"edit\":\r\n        setIsEditingCard(true);\r\n        return;\r\n\r\n      case \"exit\":\r\n        setShuffledCards([]);\r\n\r\n        if (user) {\r\n          history.push(\"/app\");\r\n          return;\r\n        }\r\n        history.push(\"/\");\r\n        return;\r\n      \r\n      case \"shuffle\":\r\n        if (selectedDecks.length === 0) return;\r\n        const randomized_cards = fisherYatesShuffle(cards);\r\n        setShuffledCards(randomized_cards);\r\n\r\n        history.push(\"/app/shuffle\");\r\n        return;\r\n      \r\n      case \"toggle-menu\":\r\n        setIsMenuOpen(prev => !prev);\r\n        return;\r\n\r\n      case \"update-card\":\r\n        setIsEditingCard(false);\r\n        return;\r\n\r\n      case \"delete-card\":\r\n        setIsEditingCard(false);\r\n        return;\r\n\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Nav onClick={handleButtons}/>\r\n      <MobileMenu \r\n        isOpen={isMenuOpen}\r\n        setIsOpen={setIsMenuOpen}\r\n      />\r\n        <Switch>\r\n          <Route path=\"/test\">\r\n            <Test />\r\n          </Route>\r\n          <Route path=\"/log-in\">\r\n          <main>\r\n            <Login />\r\n            <Footer />\r\n          </main>\r\n          </Route>\r\n          <Route path=\"/log-out\">\r\n          <main>\r\n            <Logout />\r\n          </main>\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n          <main>\r\n            <Signup />\r\n            <Footer />\r\n          </main>\r\n          </Route>\r\n          <Route path=\"/reset-password\">\r\n            <main>\r\n              <ResetPassword />\r\n              <Footer />\r\n            </main>\r\n          </Route>\r\n          <Route path=\"/my-account\">\r\n          <main>\r\n            <MyAccount />\r\n            <Footer />\r\n          </main>\r\n          </Route>\r\n          <Route path=\"/app/shuffle\">\r\n            <Deck \r\n              shuffledCards={shuffledCards}\r\n              onClick={handleButtons}\r\n              isEditingCard={isEditingCard}\r\n              curSelectedDeck={curSelectedDeck}\r\n            />\r\n          </Route>\r\n          <Route path=\"/app/d/:hash\">\r\n            <Deck \r\n              shuffledCards={shuffledCards}\r\n              onClick={handleButtons}\r\n              isEditingCard={isEditingCard}\r\n              curSelectedDeck={curSelectedDeck}\r\n            />\r\n          </Route>\r\n          <Route path=\"/app\">\r\n          <main>\r\n            <Dashboard \r\n              onClick={handleButtons}\r\n              decks={decks}\r\n              cards={cards}\r\n              selectedDecks={selectedDecks}\r\n              setSelectedDecks={setSelectedDecks}\r\n              handleButtons={handleButtons}\r\n            />\r\n            <Footer />\r\n          </main>\r\n          </Route>\r\n          <Route path=\"/\">\r\n          <main>\r\n            <Landing />\r\n            <Footer />\r\n          </main>\r\n          </Route>\r\n        </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport AuthProvider from './provider/AuthProvider';\n\nimport './normalize.css';\nimport './styles2.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}